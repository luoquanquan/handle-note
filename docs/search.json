[{"title":"URL 跳转漏洞","url":"/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E7%99%BD%E5%B8%BD%E5%AD%90%E8%AE%AD%E7%BB%83%E8%AF%BE-%E7%AC%94%E8%AE%B0/%E5%B8%B8%E8%A7%81%E6%BC%8F%E6%B4%9E/url%20%E8%B7%B3%E8%BD%AC%E6%BC%8F%E6%B4%9E/","content":"<h2 id=\"概念\"><a href=\"#概念\" class=\"headerlink\" title=\"概念\"></a>概念</h2><p>URL 跳转漏洞, 就是利用没有验证功能的 Url 跳转能力, 将应用引导到不安全<br>的第三方区域.</p>\n<p><img src=\"http://handle-note-img.niubishanshan.top/2020-02-15-19-56-30.png\" alt=\"2020-02-15-19-56-30\"></p>\n<h2 id=\"实现方式\"><a href=\"#实现方式\" class=\"headerlink\" title=\"实现方式\"></a>实现方式</h2><ul>\n<li>header 跳转</li>\n<li>JavaScript 跳转</li>\n<li>Meta 标签跳转</li>\n</ul>\n<h2 id=\"防范\"><a href=\"#防范\" class=\"headerlink\" title=\"防范\"></a>防范</h2><p>跳转前要检验待跳转的 url 是否是合法的, 通过添加白名单控制</p>\n","categories":["网络安全"],"tags":["网络安全"]},{"title":"点击劫持","url":"/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E7%99%BD%E5%B8%BD%E5%AD%90%E8%AE%AD%E7%BB%83%E8%AF%BE-%E7%AC%94%E8%AE%B0/%E5%B8%B8%E8%A7%81%E6%BC%8F%E6%B4%9E/%E7%82%B9%E5%87%BB%E5%8A%AB%E6%8C%81/","content":"<h2 id=\"就这一张图-内容就不编了\"><a href=\"#就这一张图-内容就不编了\" class=\"headerlink\" title=\"就这一张图, 内容就不编了\"></a>就这一张图, 内容就不编了</h2><p><img src=\"http://handle-note-img.niubishanshan.top/2020-02-15-19-39-53.png\" alt=\"2020-02-15-19-39-53\"></p>\n","categories":["网络安全"],"tags":["网络安全"]},{"title":"CSRF","url":"/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E7%99%BD%E5%B8%BD%E5%AD%90%E8%AE%AD%E7%BB%83%E8%AF%BE-%E7%AC%94%E8%AE%B0/%E5%B8%B8%E8%A7%81%E6%BC%8F%E6%B4%9E/CSRF/","content":"<h2 id=\"全称\"><a href=\"#全称\" class=\"headerlink\" title=\"全称\"></a>全称</h2><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">Cross Site request forgery</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"中文名称\"><a href=\"#中文名称\" class=\"headerlink\" title=\"中文名称\"></a>中文名称</h2><p>跨站请求伪造</p>\n<h2 id=\"常见危害\"><a href=\"#常见危害\" class=\"headerlink\" title=\"常见危害\"></a>常见危害</h2><p>执行恶意操作(被转账, 被发垃圾评论…), 制造蠕虫…</p>\n<h2 id=\"概念\"><a href=\"#概念\" class=\"headerlink\" title=\"概念\"></a>概念</h2><p>利用用户已登录的身份, 在用户毫不知情的情况下, 以用户的名义执行非法操作</p>\n<p><img src=\"http://handle-note-img.niubishanshan.top/2020-02-15-13-51-26.png\" alt=\"2020-02-15-13-51-26\"></p>\n<p>原理分析<br><img src=\"http://handle-note-img.niubishanshan.top/2020-02-15-13-56-37.png\" alt=\"2020-02-15-13-56-37\"></p>\n<p><img src=\"http://handle-note-img.niubishanshan.top/2020-02-15-13-58-19.png\" alt=\"2020-02-15-13-58-19\"></p>\n<p><img src=\"http://handle-note-img.niubishanshan.top/2020-02-15-13-59-15.png\" alt=\"2020-02-15-13-59-15\"></p>\n","categories":["网络安全"],"tags":["网络安全"]},{"title":"XSS","url":"/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E7%99%BD%E5%B8%BD%E5%AD%90%E8%AE%AD%E7%BB%83%E8%AF%BE-%E7%AC%94%E8%AE%B0/%E5%B8%B8%E8%A7%81%E6%BC%8F%E6%B4%9E/xss/","content":"<h2 id=\"全称\"><a href=\"#全称\" class=\"headerlink\" title=\"全称\"></a>全称</h2><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">Cross Site Script</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"中文名称\"><a href=\"#中文名称\" class=\"headerlink\" title=\"中文名称\"></a>中文名称</h2><p>跨站脚本</p>\n<h2 id=\"常见危害\"><a href=\"#常见危害\" class=\"headerlink\" title=\"常见危害\"></a>常见危害</h2><p>盗取用户信息, 钓鱼, 制造蠕虫…</p>\n<h2 id=\"概念\"><a href=\"#概念\" class=\"headerlink\" title=\"概念\"></a>概念</h2><p>黑客通过 “html 注入” 篡改网页, <strong>插入恶意脚本</strong>. 当用户浏览网页时, 实现控制用户浏览器行为的一种攻击方式.</p>\n<p><img src=\"http://handle-note-img.niubishanshan.top/2020-02-15-00-22-12.png\" alt=\"2020-02-15-00-22-12\"></p>\n<h2 id=\"分类\"><a href=\"#分类\" class=\"headerlink\" title=\"分类\"></a>分类</h2><h3 id=\"存储型\"><a href=\"#存储型\" class=\"headerlink\" title=\"存储型\"></a>存储型</h3><p>访问网站, 触发 XSS</p>\n<p><img src=\"http://handle-note-img.niubishanshan.top/2020-02-15-00-26-48.png\" alt=\"2020-02-15-00-26-48\"></p>\n<p>黑客入侵流程<br><img src=\"http://handle-note-img.niubishanshan.top/2020-02-15-00-27-32.png\" alt=\"2020-02-15-00-27-32\"></p>\n<h3 id=\"反射型\"><a href=\"#反射型\" class=\"headerlink\" title=\"反射型\"></a>反射型</h3><p>访问携带 XSS 脚本的链接触发 XSS, XSS 代码存在于 search 串中. 后端直接返回了<br><img src=\"http://handle-note-img.niubishanshan.top/2020-02-15-00-30-09.png\" alt=\"2020-02-15-00-30-09\"></p>\n<p>代码实现<br><img src=\"http://handle-note-img.niubishanshan.top/2020-02-15-00-29-26.png\" alt=\"2020-02-15-00-29-26\"></p>\n<h3 id=\"DOM-型\"><a href=\"#DOM-型\" class=\"headerlink\" title=\"DOM 型\"></a>DOM 型</h3><p>访问携带 XSS 脚本的链接触发 XSS, XSS 代码存在于 hash 中<br><img src=\"http://handle-note-img.niubishanshan.top/2020-02-15-00-33-25.png\" alt=\"2020-02-15-00-33-25\"></p>\n<p>代码实现<br><img src=\"http://handle-note-img.niubishanshan.top/2020-02-15-00-32-16.png\" alt=\"2020-02-15-00-32-16\"></p>\n<p><img src=\"http://handle-note-img.niubishanshan.top/2020-02-15-00-33-04.png\" alt=\"2020-02-15-00-33-04\"></p>\n<h2 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h2><p><img src=\"http://handle-note-img.niubishanshan.top/2020-02-15-00-41-29.png\" alt=\"2020-02-15-00-41-29\"></p>\n","categories":["网络安全"],"tags":["网络安全"]},{"title":"基础知识","url":"/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E7%99%BD%E5%B8%BD%E5%AD%90%E8%AE%AD%E7%BB%83%E8%AF%BE-%E7%AC%94%E8%AE%B0/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/","content":"<h2 id=\"url\"><a href=\"#url\" class=\"headerlink\" title=\"url\"></a>url</h2><p>统一资源定位符</p>\n<p><img src=\"http://handle-note-img.niubishanshan.top/2020-02-14-23-03-28.png\" alt=\"2020-02-14-23-03-28\"></p>\n<h2 id=\"http\"><a href=\"#http\" class=\"headerlink\" title=\"http\"></a>http</h2><h3 id=\"概念\"><a href=\"#概念\" class=\"headerlink\" title=\"概念\"></a>概念</h3><p>超文本传输协议 <code>Hyper Text Transfer Protocol</code></p>\n<p><img src=\"http://handle-note-img.niubishanshan.top/2020-02-14-23-09-51.png\" alt=\"2020-02-14-23-09-51\"></p>\n<h3 id=\"特征\"><a href=\"#特征\" class=\"headerlink\" title=\"特征\"></a>特征</h3><ul>\n<li>web 通信使用的协议</li>\n<li>web 的基础</li>\n<li>最广泛</li>\n<li>…</li>\n</ul>\n<h3 id=\"报文\"><a href=\"#报文\" class=\"headerlink\" title=\"报文\"></a>报文</h3><p>GET:<br><img src=\"http://handle-note-img.niubishanshan.top/2020-02-14-23-11-25.png\" alt=\"2020-02-14-23-11-25\"></p>\n<p>POST:<br><img src=\"http://handle-note-img.niubishanshan.top/2020-02-14-23-13-52.png\" alt=\"2020-02-14-23-13-52\"></p>\n<h3 id=\"请求方法\"><a href=\"#请求方法\" class=\"headerlink\" title=\"请求方法\"></a>请求方法</h3><table>\n<thead>\n<tr>\n<th>请求类型</th>\n<th>含义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>POST</td>\n<td>创建一个资源</td>\n</tr>\n<tr>\n<td>DELETE</td>\n<td>删除指定资源</td>\n</tr>\n<tr>\n<td>PUT</td>\n<td>更新资源</td>\n</tr>\n<tr>\n<td>GET</td>\n<td>获取资源</td>\n</tr>\n<tr>\n<td>HEAD</td>\n<td>与 GET 请求类似, 区别在于 HEAD 请求只需要服务器返回 HTTP 头信息, 没有页面内容</td>\n</tr>\n<tr>\n<td>OPTIONS</td>\n<td>咨询服务器当前情况下的可访问性</td>\n</tr>\n</tbody></table>\n<h3 id=\"Referer\"><a href=\"#Referer\" class=\"headerlink\" title=\"Referer\"></a>Referer</h3><p>告知服务器当前请求的来源(浏览器添加 js 不可修改)</p>\n<p>Referer 的用途有</p>\n<ul>\n<li>防止盗链</li>\n<li>防止 CSRF</li>\n</ul>\n<h2 id=\"钓鱼网站\"><a href=\"#钓鱼网站\" class=\"headerlink\" title=\"钓鱼网站\"></a>钓鱼网站</h2><ul>\n<li>诱惑性标题</li>\n<li>仿冒真实网站</li>\n<li>骗取用户账号</li>\n<li>骗取用户资料</li>\n</ul>\n<h2 id=\"网页篡改\"><a href=\"#网页篡改\" class=\"headerlink\" title=\"网页篡改\"></a>网页篡改</h2><p>修改网页, 这个比较常见</p>\n<h2 id=\"搜索引擎技巧\"><a href=\"#搜索引擎技巧\" class=\"headerlink\" title=\"搜索引擎技巧\"></a>搜索引擎技巧</h2><ul>\n<li>Intitle:keyword 标题中含有关键字的网页</li>\n<li>Intext:keyword 正文中含有关键词的网页</li>\n<li>Site:domain 某个域名和子域名下的所有网页</li>\n</ul>\n<h2 id=\"暗链\"><a href=\"#暗链\" class=\"headerlink\" title=\"暗链\"></a>暗链</h2><p>隐藏在网页中的链接, 不能被正常人点击. 主要目的是提升链接性, 获得在搜索引擎爬虫的曝光度</p>\n<h2 id=\"webshell\"><a href=\"#webshell\" class=\"headerlink\" title=\"webshell\"></a>webshell</h2><ul>\n<li>后门, 可执行环境</li>\n<li>功能强大</li>\n<li>入侵检测系统难以发现</li>\n</ul>\n<h2 id=\"常见的攻击方式分类\"><a href=\"#常见的攻击方式分类\" class=\"headerlink\" title=\"常见的攻击方式分类\"></a>常见的攻击方式分类</h2><p><img src=\"http://handle-note-img.niubishanshan.top/2020-02-15-00-12-50.png\" alt=\"2020-02-15-00-12-50\"></p>\n","categories":["网络安全"],"tags":["网络安全"]},{"title":"归并排序","url":"/Blog/dataStructures-algorithms/NOTE/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/","content":"<h2 id=\"概念\"><a href=\"#概念\" class=\"headerlink\" title=\"概念\"></a>概念</h2><p>归并排序是一种分治算法, 其思想就是将原始数组切分成较小的数组, 直到每个数组只有一个元素. 接着将小数组归并成较大的数组, 直到最后只有一个排序完成的大数组…</p>\n<h2 id=\"代码实现\"><a href=\"#代码实现\" class=\"headerlink\" title=\"代码实现\"></a>代码实现</h2><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 将小数组合并成大数组</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> merge = <span class=\"function\">(<span class=\"params\">left, right</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> ret = []</span><br><span class=\"line\">    <span class=\"keyword\">let</span> il = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> ir = <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (il &lt; left.length &amp;&amp; ir &lt; right.length) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (left[il] &lt; right[ir]) &#123;</span><br><span class=\"line\">            ret.push(left[il++])</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            ret.push(right[ir++])</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (il &lt; left.length) &#123;</span><br><span class=\"line\">        ret.push(left[il++])</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (ir &lt; right.length) &#123;</span><br><span class=\"line\">        ret.push(right[ir++])</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ret</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 将大数组拆分成小数组</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> mergeSort = <span class=\"function\"><span class=\"params\">array</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> len = array.length</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (len &lt;= <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> array</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> mid = <span class=\"built_in\">Math</span>.floor(len / <span class=\"number\">2</span>)</span><br><span class=\"line\">    <span class=\"keyword\">const</span> left = array.slice(<span class=\"number\">0</span>, mid)</span><br><span class=\"line\">    <span class=\"keyword\">const</span> right = array.slice(mid, len)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(left, right)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> merge(mergeSort(left), mergeSort(right))</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"示例\"><a href=\"#示例\" class=\"headerlink\" title=\"示例\"></a>示例</h2><p>给定原待排数组</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> randomArr = [<span class=\"number\">9</span>, <span class=\"number\">10</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">1</span>]</span><br></pre></td></tr></table></figure>\n\n<p>选择排序执行的步骤为</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 拆分过程</span></span><br><span class=\"line\">[ 9, 10 ] [ 0, 2, 1 ]</span><br><span class=\"line\">[ 9 ] [ 10 ]</span><br><span class=\"line\">[ 0 ] [ 2, 1 ]</span><br><span class=\"line\">[ 2 ] [ 1 ]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 合并的过程</span></span><br><span class=\"line\">[ 9, 10 ]</span><br><span class=\"line\">[ 1, 2 ]</span><br><span class=\"line\">[ 0, 1, 2 ]</span><br><span class=\"line\">[ 0, 1, 2, 9, 10 ]</span><br></pre></td></tr></table></figure>\n\n<p>归并排序的代码在<a href=\"https://github.com/luoquanquan/learn-fe/commit/13fa54944846254d6defb2c5cc1d0bc95a768320\" target=\"_blank\" rel=\"noopener\">这里</a></p>\n","categories":["Blog"],"tags":["数据结构与算法"]},{"title":"快速排序","url":"/Blog/dataStructures-algorithms/NOTE/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/","content":"<h2 id=\"概念\"><a href=\"#概念\" class=\"headerlink\" title=\"概念\"></a>概念</h2><p>快速排序是一种分而治之的算法, 通过递归的方式将数据依次分解为包含较小元素和较大元素的不同子序列.不断重复直到所有的数据都是有序的. 即选择数组中的第一个元素作为记准元素, 数据排序围绕记准元素进行, 小于基准值的元素移动到数组的底部, 大于记准值的移动到数组的顶部.</p>\n<h2 id=\"代码实现\"><a href=\"#代码实现\" class=\"headerlink\" title=\"代码实现\"></a>代码实现</h2><h3 id=\"数据结构与算法-JavaScript-描述\"><a href=\"#数据结构与算法-JavaScript-描述\" class=\"headerlink\" title=\"数据结构与算法 JavaScript 描述\"></a>数据结构与算法 JavaScript 描述</h3><p>首先, 判断数组的长度是否为 0, 为 0 的话直接返回不做处理. 否则, 选择第一个元素基准值, 并创建两个数组. 一个用于存放小于基准值的元素, 一个用与存放大于基准值的元素.<br>其次, 从第二个元素开始扫描所有元素, 根据他们和基准值的关系把他们放到合适的数组中<br>最后, 重复以上操作, 递归结束时, 把较小数组和较大数组拼接起来并返回</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> quickSort = <span class=\"function\"><span class=\"params\">array</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> len = array.length</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (len === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> []</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> left = []</span><br><span class=\"line\">    <span class=\"keyword\">const</span> right = []</span><br><span class=\"line\">    <span class=\"keyword\">const</span> pivot = array[<span class=\"number\">0</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> idx = <span class=\"number\">1</span>; idx &lt; len; idx++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> curItem = array[idx]</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (curItem &lt; pivot) &#123;</span><br><span class=\"line\">            left.push(curItem)</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            right.push(curItem)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> quickSort(left).concat(pivot, quickSort(right))</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"学习JavaScript数据结构与算法\"><a href=\"#学习JavaScript数据结构与算法\" class=\"headerlink\" title=\"学习JavaScript数据结构与算法\"></a>学习JavaScript数据结构与算法</h3><p>首先, 选择数组的中间元素作为基准值<br>其次, 创建两个下标变量, 左边的下标指像数组的第一个元素, 右边的指向数组的最后一个元素. 移动左下标直到找到第一个比基准值大的元素, 移动右下标直到找到一个比基准值小的元素, 然后交换两者的位置. 重复这个过程, 直到左下标超过了右下标. 这个过程将使得比基准元素小的元素都到基准元素前, 比他大的元素都到基准元素后. 也就是划分操作, 体现分治思想<br>最后, 最基准元素左边的部分元素组成的数组和右边的元素组成的数组递归重复以上操作</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 划分操作</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> partition = <span class=\"function\">(<span class=\"params\">array, left, right</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> pivot = array[<span class=\"built_in\">Math</span>.floor((left + right) / <span class=\"number\">2</span>)]</span><br><span class=\"line\">    <span class=\"keyword\">let</span> i = left, j = right</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (i &lt;= j) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (array[i] &lt; pivot) &#123;</span><br><span class=\"line\">            i++</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (array[j] &gt; pivot) &#123;</span><br><span class=\"line\">            j--</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i &lt;= j) &#123;</span><br><span class=\"line\">            swap(array, i, j)</span><br><span class=\"line\">            i++</span><br><span class=\"line\">            j--</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> i</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 递归调用</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> qSort = <span class=\"function\">(<span class=\"params\">array, left = <span class=\"number\">0</span>, right = array.length - <span class=\"number\">1</span></span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (array.length &gt; <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> index = partition(array, left, right)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (left &lt; index - <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">            qSort(array, left, index - <span class=\"number\">1</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (index &lt; right) &#123;</span><br><span class=\"line\">            qSort(array, index, right)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"示例\"><a href=\"#示例\" class=\"headerlink\" title=\"示例\"></a>示例</h2><p>给定原待排数组</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> randomArr = [<span class=\"number\">9</span>, <span class=\"number\">10</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">1</span>]</span><br></pre></td></tr></table></figure>\n\n<p>执行的结果为</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">quickSort: 0.295ms</span><br><span class=\"line\">当前时间 1581610074184: debug 的数据是 quickSortedArray:  [ 0, 1, 2, 9, 10 ]</span><br><span class=\"line\">qSort: 0.631ms</span><br><span class=\"line\">当前时间 1581610074188: debug 的数据是 qSortArray:  [ 0, 1, 2, 9, 10 ]</span><br></pre></td></tr></table></figure>\n\n<p>目前代码在<a href=\"https://github.com/luoquanquan/learn-fe/commit/c8ab0c249882108f459b1facfdd9996f897325b1\" target=\"_blank\" rel=\"noopener\">这里</a></p>\n<h2 id=\"对比两种快排的效率\"><a href=\"#对比两种快排的效率\" class=\"headerlink\" title=\"对比两种快排的效率\"></a>对比两种快排的效率</h2><p>创建大数组</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> &#123;swap, createRandomArr&#125; = <span class=\"built_in\">require</span>(<span class=\"string\">'./utils'</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> randomArr = createRandomArr(<span class=\"number\">1e6</span>, <span class=\"number\">0</span>, <span class=\"number\">1e8</span>)</span><br></pre></td></tr></table></figure>\n\n<p>执行结果为</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">quickSort: 1184.332ms</span><br><span class=\"line\">qSort: 158.277ms</span><br></pre></td></tr></table></figure>\n\n<p>通过以上的结论不难看出, 处理较大数据时 &lt;&lt;学习JavaScript数据结构与算法&gt;&gt; 中描述的方案优势明显</p>\n<p>目前的代码在<a href=\"https://github.com/luoquanquan/learn-fe/commit/122e9683b5228456666084cfeebccd8ba1875a9c\" target=\"_blank\" rel=\"noopener\">这里</a></p>\n<h2 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h2><ul>\n<li><a href=\"https://book.douban.com/subject/25945449/\" target=\"_blank\" rel=\"noopener\">数据结构与算法JavaScript描述</a></li>\n<li><a href=\"https://book.douban.com/subject/26639401/\" target=\"_blank\" rel=\"noopener\">学习JavaScript数据结构与算法</a></li>\n</ul>\n","categories":["Blog"],"tags":["数据结构与算法"]},{"title":"插入排序","url":"/Blog/dataStructures-algorithms/NOTE/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F/","content":"<h2 id=\"概念\"><a href=\"#概念\" class=\"headerlink\" title=\"概念\"></a>概念</h2><p>插入排序每次排序一个数组项, 假定第一项已经排序好了. 依次向后扫描所有元素, 比如到第二项时, 和已经排序好的部分比较, 看看放到哪里合适, 由于此时只有第一项已经排序好了, 就是看看放在第一项的左边还是右边. 第三项和前两项比较, 找到它合适的位置, 以此类推…</p>\n<h2 id=\"代码实现\"><a href=\"#代码实现\" class=\"headerlink\" title=\"代码实现\"></a>代码实现</h2><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> insertionSort = <span class=\"function\"><span class=\"params\">array</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> len = array.length</span><br><span class=\"line\">    <span class=\"keyword\">let</span> outerIndex, innerIndex, temp</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (outerIndex = <span class=\"number\">1</span>; outerIndex &lt; len; outerIndex++) &#123;</span><br><span class=\"line\">        temp = array[outerIndex]  <span class=\"comment\">// 待排元素</span></span><br><span class=\"line\">        innerIndex = outerIndex - <span class=\"number\">1</span> <span class=\"comment\">// 已经排好的队伍</span></span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">`当前排序好的队伍 <span class=\"subst\">$&#123;array.slice(<span class=\"number\">0</span>, outerIndex)&#125;</span>`</span>)</span><br><span class=\"line\">        <span class=\"comment\">// 拿当前的待排元素到已经排好的队伍里边找他合适的位置</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (innerIndex &gt;= <span class=\"number\">0</span> &amp;&amp; array[innerIndex] &gt; temp) &#123;</span><br><span class=\"line\">            array[innerIndex + <span class=\"number\">1</span>] = array[innerIndex]</span><br><span class=\"line\">            --innerIndex</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        array[innerIndex + <span class=\"number\">1</span>] = temp</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"示例\"><a href=\"#示例\" class=\"headerlink\" title=\"示例\"></a>示例</h2><p>给定原待排数组</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> randomArr = [<span class=\"number\">9</span>, <span class=\"number\">10</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">1</span>]</span><br></pre></td></tr></table></figure>\n\n<p>选择排序执行的步骤为</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">当前排序好的队伍 9</span><br><span class=\"line\">当前排序好的队伍 9,10</span><br><span class=\"line\">当前排序好的队伍 0,9,10</span><br><span class=\"line\">当前排序好的队伍 0,2,9,10</span><br><span class=\"line\">insertionSort: 3.984ms</span><br><span class=\"line\">[ 0, 1, 2, 9, 10 ]</span><br></pre></td></tr></table></figure>\n\n<p>插入排序的代码在<a href=\"https://github.com/luoquanquan/learn-fe/commit/3ed8aaded65a371d014a5cbe5b162e0d0cf480ba\" target=\"_blank\" rel=\"noopener\">这里</a></p>\n","categories":["Blog"],"tags":["数据结构与算法"]},{"title":"选择排序","url":"/Blog/dataStructures-algorithms/NOTE/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F/","content":"<h2 id=\"概念\"><a href=\"#概念\" class=\"headerlink\" title=\"概念\"></a>概念</h2><p>选择排序是一种原址比较的排序的算法. 从数组的开头开始和其他元素比较. 找到最小的数放到第一位, 接着找到第二小的数放到第二位. 以此类推, 直到移动到数组的倒数第二个位置时说明当前数组已经对比完毕. 完成排序.</p>\n<h2 id=\"程序流程\"><a href=\"#程序流程\" class=\"headerlink\" title=\"程序流程\"></a>程序流程</h2><p>选择排序用到了嵌套循环, 外循环从数组的第一个元素开始移动到数组的倒数第二个元素. 内循环从当前外循环指定元素的下一个元素开始移动到数组的最后一个元素, 查找比当前外层循环指定的元素更小的元素. 这样就能保证每次内循环结束后都能保证循环期间遇到的最小值到达合适的位置.</p>\n<h2 id=\"代码实现\"><a href=\"#代码实现\" class=\"headerlink\" title=\"代码实现\"></a>代码实现</h2><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> selectionSort = <span class=\"function\"><span class=\"params\">array</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> len = array.length</span><br><span class=\"line\">    <span class=\"keyword\">let</span> outerIndex, innerIndex, indexMin</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (outerIndex = <span class=\"number\">0</span>; outerIndex &lt; len - <span class=\"number\">1</span>; outerIndex++) &#123;</span><br><span class=\"line\">        indexMin = outerIndex</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (innerIndex = outerIndex + <span class=\"number\">1</span>; innerIndex &lt; len; innerIndex++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (array[indexMin] &gt; array[innerIndex]) &#123;</span><br><span class=\"line\">                indexMin = innerIndex</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (outerIndex !== indexMin) &#123;</span><br><span class=\"line\">            swap(array, indexMin, outerIndex)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"示例\"><a href=\"#示例\" class=\"headerlink\" title=\"示例\"></a>示例</h2><p>给定原待排数组</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> randomArr = [<span class=\"number\">9</span>, <span class=\"number\">10</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">1</span>]</span><br></pre></td></tr></table></figure>\n\n<p>选择排序执行的步骤为</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">[ 0, 10, 9, 2, 1 ]</span><br><span class=\"line\">[ 0, 1, 10, 9, 2 ]</span><br><span class=\"line\">[ 0, 1, 2, 10, 9 ]</span><br><span class=\"line\">[ 0, 1, 2, 9, 10 ]</span><br></pre></td></tr></table></figure>\n\n<p>上边的例子就很典型啦<a href=\"https://github.com/luoquanquan/learn-fe/commit/f10b339d9f9ae082adc4bdf96ab20c132a586e4f\" target=\"_blank\" rel=\"noopener\">代码地址</a></p>\n","categories":["Blog"],"tags":["数据结构与算法"]},{"title":"冒泡排序","url":"/Blog/dataStructures-algorithms/NOTE/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F/","content":"<blockquote>\n<p>冒泡排序算法是最慢的排序算法之一, 也是最容易实现的排序算法</p>\n</blockquote>\n<h2 id=\"概念\"><a href=\"#概念\" class=\"headerlink\" title=\"概念\"></a>概念</h2><p>冒泡排序之所以叫冒泡排序是因为使用这种排序算法排序时, 数据会像气泡一样从数组的一端飘到另一端. 假设正在将一组数字按照升序排列, 较大的值会浮动到数组的右侧, 而较小的值则会浮动到数组的左侧.</p>\n<p>示例, 给定原待排数组</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> randomArr = [<span class=\"number\">9</span>, <span class=\"number\">10</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">1</span>]</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"初始的冒泡排序\"><a href=\"#初始的冒泡排序\" class=\"headerlink\" title=\"初始的冒泡排序\"></a>初始的冒泡排序</h2><p>冒泡排序比较任何两个相邻的项, 如果第一个比第二个大, 则交换他们. 元素项向上移动到正确的顺序,就好像气泡升至表面一样, 冒泡排序因此得名.</p>\n<p>根据上述的概念, 推断冒泡排序的代码实现为</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> bubbleSort = <span class=\"function\"><span class=\"params\">array</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> len = array.length</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> outerIndex = <span class=\"number\">0</span>; outerIndex &lt; len; outerIndex++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> innerIndex = <span class=\"number\">0</span>; innerIndex &lt; len - <span class=\"number\">1</span>; innerIndex++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (array[innerIndex] &lt; array[innerIndex + <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 交换两项的数据</span></span><br><span class=\"line\">                swap(array, innerIndex, innerIndex + <span class=\"number\">1</span>)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>经过冒泡排序执行的过程为</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">[ 9, 0, 2, 1, 10 ]</span><br><span class=\"line\">[ 0, 2, 1, 9, 10 ]</span><br><span class=\"line\">[ 0, 1, 2, 9, 10 ]</span><br><span class=\"line\">[ 0, 1, 2, 9, 10 ]</span><br><span class=\"line\">[ 0, 1, 2, 9, 10 ]</span><br></pre></td></tr></table></figure>\n\n<p>详细的对比过程为</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">9 10</span><br><span class=\"line\">10 0</span><br><span class=\"line\">10 2</span><br><span class=\"line\">10 1</span><br><span class=\"line\">[ 9, 0, 2, 1, 10 ]</span><br><span class=\"line\">9 0</span><br><span class=\"line\">9 2</span><br><span class=\"line\">9 1</span><br><span class=\"line\">9 10</span><br><span class=\"line\">[ 0, 2, 1, 9, 10 ]</span><br><span class=\"line\">0 2</span><br><span class=\"line\">2 1</span><br><span class=\"line\">2 9</span><br><span class=\"line\">9 10</span><br><span class=\"line\">[ 0, 1, 2, 9, 10 ]</span><br><span class=\"line\">0 1</span><br><span class=\"line\">1 2</span><br><span class=\"line\">2 9</span><br><span class=\"line\">9 10</span><br><span class=\"line\">[ 0, 1, 2, 9, 10 ]</span><br><span class=\"line\">0 1</span><br><span class=\"line\">1 2</span><br><span class=\"line\">2 9</span><br><span class=\"line\">9 10</span><br><span class=\"line\">[ 0, 1, 2, 9, 10 ]</span><br></pre></td></tr></table></figure>\n\n<p>最终执行的结果为</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">[ 0, 1, 2, 9, 10 ]</span><br></pre></td></tr></table></figure>\n\n<p>本步骤中的代码在<a href=\"https://github.com/luoquanquan/learn-fe/commit/c315a8ff1b50d1f7a1a56f78963c75d810c5ab71\" target=\"_blank\" rel=\"noopener\">这里</a></p>\n<h2 id=\"改进的冒泡排序\"><a href=\"#改进的冒泡排序\" class=\"headerlink\" title=\"改进的冒泡排序\"></a>改进的冒泡排序</h2><blockquote>\n<p>在初始的冒泡排序中 9 和 10 两个数字已经比较过, 但是后续的每轮循环都在再重新<a href=\"https://github.com/luoquanquan/learn-fe/commit/67a9d05171a5bd58c43f324e80437cde50409001\" target=\"_blank\" rel=\"noopener\">比较一次</a>. 然而这是没必要的…</p>\n</blockquote>\n<p>如果内循环的时候减去外循环已经跑过的轮数(也就是已经确定了位置的数据的个数), 就能避免内循环里的没有必要的比较了~</p>\n<p>改进后的代码</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> modifiedBubbleSort = <span class=\"function\"><span class=\"params\">array</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> len = array.length</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> outerIndex = <span class=\"number\">0</span>; outerIndex &lt; len; outerIndex++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> innerIndex = <span class=\"number\">0</span>; innerIndex &lt; len - <span class=\"number\">1</span> - outerIndex; innerIndex++) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">console</span>.log(array[innerIndex], array[innerIndex + <span class=\"number\">1</span>])</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (array[innerIndex] &gt; array[innerIndex + <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 交换两项的数据</span></span><br><span class=\"line\">                swap(array, innerIndex, innerIndex + <span class=\"number\">1</span>)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(array)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>改进后的执行过程为</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">[ 9, 0, 2, 1, 10 ]</span><br><span class=\"line\">[ 0, 2, 1, 9, 10 ]</span><br><span class=\"line\">[ 0, 1, 2, 9, 10 ]</span><br><span class=\"line\">[ 0, 1, 2, 9, 10 ]</span><br><span class=\"line\">[ 0, 1, 2, 9, 10 ]</span><br></pre></td></tr></table></figure>\n\n<p>详细的对比过程为</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">9 10</span><br><span class=\"line\">10 0</span><br><span class=\"line\">10 2</span><br><span class=\"line\">10 1</span><br><span class=\"line\">[ 9, 0, 2, 1, 10 ]</span><br><span class=\"line\">9 0</span><br><span class=\"line\">9 2</span><br><span class=\"line\">9 1</span><br><span class=\"line\">[ 0, 2, 1, 9, 10 ]</span><br><span class=\"line\">0 2</span><br><span class=\"line\">2 1</span><br><span class=\"line\">[ 0, 1, 2, 9, 10 ]</span><br><span class=\"line\">0 1</span><br><span class=\"line\">[ 0, 1, 2, 9, 10 ]</span><br><span class=\"line\">[ 0, 1, 2, 9, 10 ]</span><br></pre></td></tr></table></figure>\n\n<p>可以发现, 对比的次数随着外层循环的执行而递减.</p>\n<h2 id=\"对比两种冒泡排序\"><a href=\"#对比两种冒泡排序\" class=\"headerlink\" title=\"对比两种冒泡排序\"></a>对比两种冒泡排序</h2><p>删除除计时以外的 console 启用创建随机数组方法创建一个大数组, 用两种冒泡排序分别处理大数组得到的结果为:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">bubbleSort: 379.321ms</span><br><span class=\"line\">modifiedBubbleSort: 238.535ms</span><br></pre></td></tr></table></figure>\n\n<p>综上可知, 改进后的冒泡排序性能提升比较明显, <a href=\"https://github.com/luoquanquan/learn-fe/commit/8f5c38cfd997afcf84e2cf4343d629a5c8d2d638\" target=\"_blank\" rel=\"noopener\">对比代码</a></p>\n","categories":["Blog"],"tags":["数据结构与算法"]},{"title":"美化 next 主题","url":"/Blog/hexo-usage/%E7%BE%8E%E5%8C%96-next-%E4%B8%BB%E9%A2%98/","content":"<h2 id=\"自己-fork-一份-next-项目-作为博客项目的-sub-moudle\"><a href=\"#自己-fork-一份-next-项目-作为博客项目的-sub-moudle\" class=\"headerlink\" title=\"自己 fork 一份 next 项目, 作为博客项目的 sub-moudle\"></a>自己 fork 一份 next 项目, 作为博客项目的 sub-moudle</h2><h3 id=\"初始化步骤\"><a href=\"#初始化步骤\" class=\"headerlink\" title=\"初始化步骤\"></a>初始化步骤</h3><ul>\n<li>fork 官方的 <code>https://github.com/theme-next/hexo-theme-next</code> 并更名为 <code>quanquan-hexo-theme-next</code></li>\n<li>清空 <code>themes</code> 目录下的所有主题文件</li>\n<li>执行 <code>git submodule add https://github.com/luoquanquan/quanquan-hexo-theme-next.git themes/next</code> 将 <code>fork</code> 来的 next 主题项目作为 <code>submodule</code> 添加到博客项目下</li>\n<li>此时执行 <code>hexo s</code> 就可以看到 next 主题的页面啦</li>\n</ul>\n<h3 id=\"将主题项目作为子模块的目的\"><a href=\"#将主题项目作为子模块的目的\" class=\"headerlink\" title=\"将主题项目作为子模块的目的\"></a>将主题项目作为子模块的目的</h3><p>直接 clone 三方的主题, 可以默认直接用, 但是如果想要基于其进行配置就 gg 了, 之前文章中提到过原生的 next 并不是很好看. 我们要修改主题的配置, 注定要修改主题项目的代码, 但是对于三方的主题项目肯定没有提交的权限, 所以只能 fork 一份自己维护. 可以保存自己的配置实现跨多端的文档编写.</p>\n<h3 id=\"其他终端导入相同配置的主题文件\"><a href=\"#其他终端导入相同配置的主题文件\" class=\"headerlink\" title=\"其他终端导入相同配置的主题文件\"></a>其他终端导入相同配置的主题文件</h3><p>使用 git clone 是不会克隆 submodule 的, 克隆主的博客项目后还需要执行</p>\n<ul>\n<li>git submodule init 初始化本地配置文件</li>\n<li>git submodule update 从该项目中抓取所有数据并检出父项目中列出的合适的提交</li>\n</ul>\n<p>也可在 clone 使用 git clone –recursive 命令, git 就会自动初始化并更新仓库中的每一个子模块</p>\n<h3 id=\"获取主题项目的更新\"><a href=\"#获取主题项目的更新\" class=\"headerlink\" title=\"获取主题项目的更新\"></a>获取主题项目的更新</h3><p>若子分支仓库中有未同步的更新, 可通过 <code>git submodule update --remote --rebase</code> 来同步最新的内容. 之后便可以打开编辑器在子模块上工作修改代码了.</p>\n<p>主题作者发布了新的主题功能或者修复了 bug, 我们想同步到自己的自定义主题当中. 因为我们的自定义主题是从原主题中 fork 出来的, 可以通过 <code>git remote add source https://github.com/theme-next/hexo-theme-next</code> 命令将源主题仓库添加为子模块的 一个新的 source 仓库. 然后运行 <code>git fetch</code> 拉取修改后, 便可以通过 <code>git merge origin/master</code> 来同步源主题的更新了</p>\n<h2 id=\"自定义-next-主题配置\"><a href=\"#自定义-next-主题配置\" class=\"headerlink\" title=\"自定义 next 主题配置\"></a>自定义 next 主题配置</h2><p>一个 hexo 博客项目中存在两个 <code>_config.yml</code> 配置文件, 项目更目录的 <code>_config.yml</code> 文件称为 <strong>站点配置文件</strong>, 主题根目录下的 <code>_config.yml</code> 文件称为 <strong>主题配置文件</strong></p>\n<h3 id=\"菜单设置\"><a href=\"#菜单设置\" class=\"headerlink\" title=\"菜单设置\"></a>菜单设置</h3><blockquote>\n<p>菜单包括: home tags categories archives about schedule sitemap commonweal</p>\n</blockquote>\n<p>默认 next 开启的菜单只有 home 和 archives 两个, 若要打开更多的菜单, 打开 <strong>主题配置文件</strong> 找到 <code># Menu Settings</code></p>\n<figure class=\"highlight yml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">menu:</span></span><br><span class=\"line\">  <span class=\"attr\">home:</span> <span class=\"string\">/</span> <span class=\"string\">||</span> <span class=\"string\">home</span></span><br><span class=\"line\">  <span class=\"attr\">tags:</span> <span class=\"string\">/tags/</span> <span class=\"string\">||</span> <span class=\"string\">tags</span></span><br><span class=\"line\">  <span class=\"attr\">categories:</span> <span class=\"string\">/categories/</span> <span class=\"string\">||</span> <span class=\"string\">th</span></span><br><span class=\"line\">  <span class=\"attr\">archives:</span> <span class=\"string\">/archives/</span> <span class=\"string\">||</span> <span class=\"string\">archive</span></span><br><span class=\"line\">  <span class=\"attr\">about:</span> <span class=\"string\">/about/</span> <span class=\"string\">||</span> <span class=\"string\">user</span></span><br><span class=\"line\">  <span class=\"comment\">#schedule: /schedule/ || calendar</span></span><br><span class=\"line\">  <span class=\"comment\">#sitemap: /sitemap.xml || sitemap</span></span><br><span class=\"line\">  <span class=\"comment\">#commonweal: /404/ || heartbeat</span></span><br></pre></td></tr></table></figure>\n\n<p>按照如上的方式修改即可.</p>\n<p>解释<code>home: / || home</code> 其中 <code>||</code>左边的 <code>/</code> 表示的是当前 menu 对应的路径, 右边的 home 表示的是 icon, 这个的制作和修改参考<a href=\"https://fontawesome.com/icons\" target=\"_blank\" rel=\"noopener\">fontawesome</a></p>\n<h3 id=\"next-主题的样式设置\"><a href=\"#next-主题的样式设置\" class=\"headerlink\" title=\"next 主题的样式设置\"></a>next 主题的样式设置</h3><p>next 主题提供了四种样式, 总体来说大同小异, 修改的方式是在 <strong>主题配置文件</strong> 中找到<code># Scheme Settings</code></p>\n<figure class=\"highlight yml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Schemes</span></span><br><span class=\"line\"><span class=\"comment\"># scheme: Muse</span></span><br><span class=\"line\"><span class=\"comment\">#scheme: Mist</span></span><br><span class=\"line\"><span class=\"comment\"># scheme: Pisces</span></span><br><span class=\"line\"><span class=\"attr\">scheme:</span> <span class=\"string\">Gemini</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"侧边栏调整\"><a href=\"#侧边栏调整\" class=\"headerlink\" title=\"侧边栏调整\"></a>侧边栏调整</h3><figure class=\"highlight yml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">sidebar:</span></span><br><span class=\"line\"><span class=\"comment\"># Sidebar Position - 侧栏位置（只对Pisces | Gemini两种风格有效）</span></span><br><span class=\"line\">  <span class=\"attr\">position:</span> <span class=\"string\">left</span>        <span class=\"string\">//靠左放置</span></span><br><span class=\"line\">  <span class=\"comment\">#position: right      //靠右放置</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Sidebar Display - 侧栏显示时机（只对Muse | Mist两种风格有效）</span></span><br><span class=\"line\">  <span class=\"comment\">#display: post        //默认行为，在文章页面（拥有目录列表）时显示</span></span><br><span class=\"line\">  <span class=\"attr\">display:</span> <span class=\"string\">always</span>       <span class=\"string\">//在所有页面中都显示</span></span><br><span class=\"line\">  <span class=\"comment\">#display: hide        //在所有页面中都隐藏（可以手动展开）</span></span><br><span class=\"line\">  <span class=\"comment\">#display: remove      //完全移除</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">offset:</span> <span class=\"number\">12</span>            <span class=\"string\">//文章间距（只对Pisces</span> <span class=\"string\">|</span> <span class=\"string\">Gemini两种风格有效）</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">b2t:</span> <span class=\"literal\">false</span>            <span class=\"string\">//返回顶部按钮（只对Pisces</span> <span class=\"string\">|</span> <span class=\"string\">Gemini两种风格有效）</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">scrollpercent:</span> <span class=\"literal\">true</span>   <span class=\"string\">//返回顶部按钮的百分比</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"设置博客头像\"><a href=\"#设置博客头像\" class=\"headerlink\" title=\"设置博客头像\"></a>设置博客头像</h3><p>在 <strong>主题配置文件</strong> 中找到 <code># Sidebar Avatar</code> 字段</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">avatar:</span></span><br><span class=\"line\">  <span class=\"comment\"># Replace the default image and set the url here.</span></span><br><span class=\"line\">  <span class=\"attr\">url:</span> <span class=\"string\">/images/avatar.jpeg</span></span><br></pre></td></tr></table></figure>\n\n<p>url 对应的就是头像的路径, 只要把图片放到主题项目下的 <code>source/images</code> 目录下, hexo 就能默认就能找到</p>\n<h3 id=\"添加分类模块\"><a href=\"#添加分类模块\" class=\"headerlink\" title=\"添加分类模块\"></a>添加分类模块</h3><ul>\n<li>新建一个页面 <code>hexo new page categories</code>, 会在 <code>source</code> 目录下创建 <code>categorcies/index.md</code> 该文件内标注了文件 <code>title</code> 为 <code>categorcies</code>, 将其修改为 <code>分类</code></li>\n<li>打开 <strong>主题配置文件</strong> 找到 <code>menu</code> 删除 <code>categories: /categories/ || th</code> 前的注释</li>\n<li>在文章顶部的文章头信息区域添加 <code>categories</code> 并设置为要将文章设置的分类名, <code>hexo</code> 就会自动把文章划分到指定的分类中</li>\n</ul>\n<h3 id=\"添加标签模块\"><a href=\"#添加标签模块\" class=\"headerlink\" title=\"添加标签模块\"></a>添加标签模块</h3><ul>\n<li>新建一个页面 <code>hexo new page tags</code>, 会在 <code>source</code> 目录下创建 <code>tags/index.md</code> 该文件内标注了文件 <code>title</code> 为 <code>tags</code>, 将其修改为 <code>标签</code></li>\n<li>打开 <strong>主题配置文件</strong> 找到 <code>menu</code> 删除 <code>tags: /tags/ || tags</code> 前的注释</li>\n<li>在文章顶部的文章头信息区域添加 <code>tags</code> 并设置为要将文章设置的分类名, <code>hexo</code> 就会自动把文章划分到指定的分类中</li>\n</ul>\n<p>eg:</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">title: 美化 next 主题</span><br><span class=\"line\">date: 2020-02-06 21:50:31</span><br><span class=\"line\">categories:</span><br><span class=\"line\"><span class=\"bullet\">  - </span>Blog</span><br><span class=\"line\">tags:</span><br><span class=\"line\"><span class=\"bullet\">  - </span>hexo</span><br><span class=\"line\">---</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">## 自己 fork 一份 next 项目, 作为博客项目的 sub-moudle</span></span><br></pre></td></tr></table></figure>\n\n<p><code>hexo</code> 会自动创建 <code>Blog</code> 分类和 <code>hexo</code> 标签, 并为当前的文章添加两个属性</p>\n<h3 id=\"添加关于模块\"><a href=\"#添加关于模块\" class=\"headerlink\" title=\"添加关于模块\"></a>添加关于模块</h3><ul>\n<li>新建一个页面 <code>hexo new page about</code>, 会在 <code>source</code> 目录下创建 <code>about/index.md</code> 该文件就是你写简历的地方啦~</li>\n<li>打开 <strong>主题配置文件</strong> 找到 <code>menu</code> 删除 <code>about: /about/ || user</code> 前的注释</li>\n</ul>\n<h3 id=\"添加搜索功能\"><a href=\"#添加搜索功能\" class=\"headerlink\" title=\"添加搜索功能\"></a>添加搜索功能</h3><ul>\n<li>安装 <a href=\"https://www.npmjs.com/package/hexo-generator-searchdb\" target=\"_blank\" rel=\"noopener\">hexo-generator-searchdb</a> 插件 <code>npm i hexo-generator-searchdb</code></li>\n<li>在 <strong>站点配置文件</strong> 的最下方添加<figure class=\"highlight yml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 搜索</span></span><br><span class=\"line\"><span class=\"attr\">search:</span></span><br><span class=\"line\">  <span class=\"attr\">path:</span> <span class=\"string\">search.xml</span></span><br><span class=\"line\">  <span class=\"attr\">field:</span> <span class=\"string\">post</span></span><br><span class=\"line\">  <span class=\"attr\">format:</span> <span class=\"string\">html</span></span><br><span class=\"line\">  <span class=\"attr\">limit:</span> <span class=\"number\">10000</span></span><br></pre></td></tr></table></figure></li>\n<li>在 <strong>主题配置文件</strong> 中找到 <code>Local search</code>, 将 <code>enable</code> 设置为 <code>true</code></li>\n</ul>\n<h3 id=\"设置网站的-favicon\"><a href=\"#设置网站的-favicon\" class=\"headerlink\" title=\"设置网站的 favicon\"></a>设置网站的 favicon</h3><p>把想要设置为 <code>favicon</code> 的图片放到 <code>themes/next/source/images</code>, 然后在 <strong>主题配置文件</strong> 中找到 <code>favicon</code> 一口气全给他改了</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">favicon:</span></span><br><span class=\"line\">  <span class=\"attr\">small:</span> <span class=\"string\">/images/favicon.png</span></span><br><span class=\"line\">  <span class=\"attr\">medium:</span> <span class=\"string\">/images/favicon.png</span></span><br><span class=\"line\">  <span class=\"attr\">apple_touch_icon:</span> <span class=\"string\">/images/favicon.png</span></span><br><span class=\"line\">  <span class=\"attr\">safari_pinned_tab:</span> <span class=\"string\">/images/logo.svg</span></span><br><span class=\"line\">  <span class=\"comment\">#android_manifest: /images/manifest.json</span></span><br><span class=\"line\">  <span class=\"comment\">#ms_browserconfig: /images/browserconfig.xml</span></span><br></pre></td></tr></table></figure>\n<p>其中, <code>/images/favicon.png</code> 就是你要设置为 <code>favicon</code> 的图片.</p>\n<h3 id=\"自定义文字大小-amp-颜色\"><a href=\"#自定义文字大小-amp-颜色\" class=\"headerlink\" title=\"自定义文字大小 &amp; 颜色\"></a>自定义文字大小 &amp; 颜色</h3><figure class=\"highlight yml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&lt;font</span> <span class=\"string\">color=\"red\"&gt;红色的文字&lt;/font&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&lt;font</span> <span class=\"string\">size=60&gt;大文字比你大&lt;/font&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&lt;font</span> <span class=\"string\">size=5</span> <span class=\"string\">color=\"#FF0000\"&gt;小文字比你小,</span> <span class=\"string\">但是比你有营养&lt;/font&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&lt;center&gt;我可以居中&lt;/center&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><font color=\"red\">红色的文字</font></p>\n<p><font size=60>大文字比你大</font></p>\n<p><font size=5 color=\"#FF0000\">小文字比你小, 但是比你有营养</font></p>\n<center>我可以居中</center>\n\n<h3 id=\"修改超链接文本样式\"><a href=\"#修改超链接文本样式\" class=\"headerlink\" title=\"修改超链接文本样式\"></a>修改超链接文本样式</h3><p>在 <code>themes/next/source/css/_common/components/post/post.styl</code> 样式文件末尾添加:</p>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.post-body</span> <span class=\"selector-tag\">p</span> <span class=\"selector-tag\">a</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#0593d3</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border-bottom</span>: none;</span><br><span class=\"line\">  <span class=\"attribute\">border-bottom</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#0593d3</span>;</span><br><span class=\"line\">  &amp;:hover &#123;</span><br><span class=\"line\">    <span class=\"selector-tag\">color</span>: <span class=\"selector-id\">#fc6423</span>;</span><br><span class=\"line\">    <span class=\"selector-tag\">border-bottom</span>: <span class=\"selector-tag\">none</span>;</span><br><span class=\"line\">    <span class=\"selector-tag\">border-bottom</span>: 1<span class=\"selector-tag\">px</span> <span class=\"selector-tag\">solid</span> <span class=\"selector-id\">#fc6423</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"在右上角或者左上角实现fork-me-on-github\"><a href=\"#在右上角或者左上角实现fork-me-on-github\" class=\"headerlink\" title=\"在右上角或者左上角实现fork me on github\"></a>在右上角或者左上角实现fork me on github</h3><ul>\n<li>首先到<a href=\"http://tholman.com/github-corners/\" target=\"_blank\" rel=\"noopener\">这里</a>或者<a href=\"https://github.blog/2008-12-19-github-ribbons/\" target=\"_blank\" rel=\"noopener\">这里</a> 挑选自己喜欢的 fork me 样式, 并复制相关的代码</li>\n<li>然后粘贴刚才复制的代码到 <code>themes/next/layout/_layout.swig</code>文件中 (放在<code>&lt;div class=&quot;headband&quot;&gt;&lt;/div&gt;</code>的下面), 并把 href 改为你的 github 地址</li>\n</ul>\n<p>eg:</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"headband\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"https://github.com/luoquanquan\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"github-corner\"</span> <span class=\"attr\">aria-label</span>=<span class=\"string\">\"View source on GitHub\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">svg</span> <span class=\"attr\">width</span>=<span class=\"string\">\"80\"</span> <span class=\"attr\">height</span>=<span class=\"string\">\"80\"</span> <span class=\"attr\">viewBox</span>=<span class=\"string\">\"0 0 250 250\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;\"</span> <span class=\"attr\">aria-hidden</span>=<span class=\"string\">\"true\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">d</span>=<span class=\"string\">\"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">path</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">d</span>=<span class=\"string\">\"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2\"</span> <span class=\"attr\">fill</span>=<span class=\"string\">\"currentColor\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"transform-origin: 130px 106px;\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"octo-arm\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">path</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">d</span>=<span class=\"string\">\"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z\"</span> <span class=\"attr\">fill</span>=<span class=\"string\">\"currentColor\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"octo-body\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">path</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">svg</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"css\"><span class=\"selector-class\">.github-corner</span><span class=\"selector-pseudo\">:hover</span> <span class=\"selector-class\">.octo-arm</span>&#123;<span class=\"attribute\">animation</span>:octocat-wave <span class=\"number\">560ms</span> ease-in-out&#125;<span class=\"keyword\">@keyframes</span> octocat-wave&#123;0%,100%&#123;<span class=\"attribute\">transform</span>:<span class=\"built_in\">rotate</span>(<span class=\"number\">0</span>)&#125;20%,60%&#123;<span class=\"attribute\">transform</span>:<span class=\"built_in\">rotate</span>(-<span class=\"number\">25deg</span>)&#125;40%,80%&#123;<span class=\"attribute\">transform</span>:<span class=\"built_in\">rotate</span>(<span class=\"number\">10deg</span>)&#125;&#125;<span class=\"keyword\">@media</span> (<span class=\"attribute\">max-width:</span><span class=\"number\">500px</span>)&#123;<span class=\"selector-class\">.github-corner</span><span class=\"selector-pseudo\">:hover</span> <span class=\"selector-class\">.octo-arm</span>&#123;<span class=\"attribute\">animation</span>:none&#125;<span class=\"selector-class\">.github-corner</span> <span class=\"selector-class\">.octo-arm</span>&#123;<span class=\"attribute\">animation</span>:octocat-wave <span class=\"number\">560ms</span> ease-in-out&#125;&#125;</span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">header</span> <span class=\"attr\">class</span>=<span class=\"string\">\"header\"</span> <span class=\"attr\">itemscope</span> <span class=\"attr\">itemtype</span>=<span class=\"string\">\"http://schema.org/WPHeader\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"header-inner\"</span>&gt;</span>&#123;% include '_partials/header/index.swig' %&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">header</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"添加-RSS\"><a href=\"#添加-RSS\" class=\"headerlink\" title=\"添加 RSS\"></a>添加 RSS</h3><h4 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h4><ul>\n<li>执行 <code>npm i hexo-generator-feed</code></li>\n<li>打开 <strong>站点配置文件</strong> 并在文件 <code>Extensions</code> 下方添加如下代码<figure class=\"highlight yml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># RSS</span></span><br><span class=\"line\"><span class=\"attr\">feed:</span></span><br><span class=\"line\">  <span class=\"attr\">type:</span> <span class=\"string\">atom</span></span><br><span class=\"line\">  <span class=\"attr\">path:</span> <span class=\"string\">atom.xml</span></span><br><span class=\"line\">  <span class=\"attr\">limit:</span> <span class=\"number\">20</span></span><br><span class=\"line\">  <span class=\"attr\">hub:</span></span><br><span class=\"line\">  <span class=\"attr\">content:</span></span><br><span class=\"line\">  <span class=\"attr\">content_limit:</span> <span class=\"number\">140</span></span><br><span class=\"line\">  <span class=\"attr\">content_limit_delim:</span> <span class=\"string\">' '</span></span><br></pre></td></tr></table></figure></li>\n<li>打开 <strong>主题配置文件</strong> 找到 <code># Sidebar Settings</code> 下的 <code># Social Links</code> 打开 <code>RSS: /atom.xml || rss</code> 前边的注释即可</li>\n<li>最后重新生成一次文章静态网站, 能发现新的网站中添加了 <code>atom.xml</code> 部署到网站到服务器</li>\n<li>通过浏览器访问博客网站, 社交链接的位置出现 <code>RSS</code> 说明配置成功<br><img src=\"http://handle-note-img.niubishanshan.top/2020-02-08-15-16-51.png\" alt=\"2020-02-08-15-16-51\"></li>\n</ul>\n<h4 id=\"使用\"><a href=\"#使用\" class=\"headerlink\" title=\"使用\"></a>使用</h4><ul>\n<li>打开一个 <code>rss reader</code> 的网站, 比如 <a href=\"https://feedreader.com/\" target=\"_blank\" rel=\"noopener\">这个</a></li>\n<li>注册一个账户, 进入网站</li>\n<li>点击 <code>Add a new feed</code> 按钮<br><img src=\"http://handle-note-img.niubishanshan.top/2020-02-08-15-13-13.png\" alt=\"2020-02-08-15-13-13\"></li>\n<li>点击配置步骤中\b加入的 <code>RSS</code> 按钮, 浏览器会跳转到一个 xml 文档的地址, 此时复制浏览器 url, 并粘贴到 <code>Address</code> 的输入框中<br><img src=\"http://handle-note-img.niubishanshan.top/2020-02-08-15-18-43.png\" alt=\"2020-02-08-15-18-43\"></li>\n<li>待阅读器识别到你的博客 title 的时候点击 <code>Add the feed</code> 即可</li>\n<li>enjoy</li>\n</ul>\n<h3 id=\"添加动态背景\"><a href=\"#添加动态背景\" class=\"headerlink\" title=\"添加动态背景\"></a>添加动态背景</h3><ul>\n<li>打开 <strong>主题配置文件</strong> 找到 <code># Canvas-nest</code> 并修改, <code>canvas_nest</code> 的 <code>enable</code> 属性为 <code>true</code></li>\n<li>找到 <code>canvas_nest</code> 和 <code>canvas_nest_nomobile</code> 两个字段, 打开两个字段前的注释, 也可以像我一样, 把两个 js 文件 copy 到项目目录下以提升稳定性</li>\n<li>重新打包 &amp; 部署</li>\n<li>enjoy</li>\n</ul>\n<h3 id=\"博文压缩\"><a href=\"#博文压缩\" class=\"headerlink\" title=\"博文压缩\"></a>博文压缩</h3><ul>\n<li>安装 gulp<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm install gulp -g</span><br><span class=\"line\">npm install gulp-minify-css gulp-uglify-es gulp-htmlmin gulp-htmlclean gulp -D</span><br></pre></td></tr></table></figure></li>\n<li>创建 <code>gulpfile.js</code> 内容参考<a href=\"https://github.com/luoquanquan/handle-note/blob/master/gulpfile.js\" target=\"_blank\" rel=\"noopener\">这里</a></li>\n<li>修改 <code>npm script</code> 为 <code>&quot;build&quot;: &quot;hexo g &amp;&amp; gulp&quot;</code> 每次编译完成后都执行下 gulp 用于压缩文件</li>\n<li>enjoy</li>\n</ul>\n<h3 id=\"在网站底部加上访问量\"><a href=\"#在网站底部加上访问量\" class=\"headerlink\" title=\"在网站底部加上访问量\"></a>在网站底部加上访问量</h3><p>在 <strong>项目配置文件</strong> 中找到 <code>busuanzi_count</code> 将 enable 属性设置为 true 即可</p>\n<h3 id=\"添加博文字数统计\"><a href=\"#添加博文字数统计\" class=\"headerlink\" title=\"添加博文字数统计\"></a>添加博文字数统计</h3><ul>\n<li>执行 <code>npm i hexo-symbols-count-time</code> 安装插件</li>\n<li>字数统计能力自动就激活了</li>\n<li>enjoy</li>\n</ul>\n<h3 id=\"修改文章访问路径\"><a href=\"#修改文章访问路径\" class=\"headerlink\" title=\"修改文章访问路径\"></a>修改文章访问路径</h3><p>默认的文章访问路径中包含了写作日期, 很不好. 打开 <strong>站点配置文件</strong> 修改 <code>permalink</code> 字段</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">permalink:</span> <span class=\"string\">:category/:title/</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"隐藏网页底部powered-By-Hexo-强力驱动\"><a href=\"#隐藏网页底部powered-By-Hexo-强力驱动\" class=\"headerlink\" title=\"隐藏网页底部powered By Hexo / 强力驱动\"></a>隐藏网页底部powered By Hexo / 强力驱动</h3><figure class=\"highlight yml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">powered:</span></span><br><span class=\"line\">  <span class=\"comment\"># Hexo link (Powered by Hexo).</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">  <span class=\"comment\"># Version info of Hexo after Hexo link (vX.X.X).</span></span><br><span class=\"line\">  <span class=\"attr\">version:</span> <span class=\"literal\">false</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h2><ul>\n<li><a href=\"https://www.jianshu.com/p/f054333ac9e6\" target=\"_blank\" rel=\"noopener\">hexo的next主题个性化教程:打造炫酷网站</a></li>\n<li><a href=\"https://www.jianshu.com/p/3a05351a37dc\" target=\"_blank\" rel=\"noopener\">Hexo的Next主题详细配置</a></li>\n<li><a href=\"https://juejin.im/post/5c2e22fcf265da615d72c596\" target=\"_blank\" rel=\"noopener\">在 hexo 中使用 git submodules 管理主题</a></li>\n<li><a href=\"https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E5%AD%90%E6%A8%A1%E5%9D%97\" target=\"_blank\" rel=\"noopener\">Git 工具 - 子模块</a></li>\n</ul>\n","categories":["Blog"],"tags":["hexo"]},{"title":"数据结构与算法概述","url":"/Blog/dataStructures-algorithms/%E9%83%9D%E6%96%8C%E7%89%88%E7%AC%94%E8%AE%B0/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%A6%82%E8%BF%B0/","content":"<h2 id=\"数据结构与算法概述\"><a href=\"#数据结构与算法概述\" class=\"headerlink\" title=\"数据结构与算法概述\"></a>数据结构与算法概述</h2><blockquote>\n<p><a href=\"https://www.bilibili.com/video/av6159200\" target=\"_blank\" rel=\"noopener\">【郝斌】-数据结构入门</a>学习笔记</p>\n</blockquote>\n<h3 id=\"定义\"><a href=\"#定义\" class=\"headerlink\" title=\"定义\"></a>定义</h3><p>我们如何把现实中大量而复杂的问题以特定的数据类型和特定的存储结构保存到主存储器(内存)中, 以及在此基础上为实现某个功能 (比如查找某个元素删除某个元素, 对所有元素进行排序) 而执行的响应操作, 这个相应的操作页脚算法</p>\n<table>\n<thead>\n<tr>\n<th>数据结构</th>\n<th>算法</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>存储个体 &amp; 个体的关系</td>\n<td>对存储数据的操作</td>\n</tr>\n<tr>\n<td>存储</td>\n<td>操作</td>\n</tr>\n</tbody></table>\n<h3 id=\"算法-—-解题的方法和步骤\"><a href=\"#算法-—-解题的方法和步骤\" class=\"headerlink\" title=\"算法 — 解题的方法和步骤\"></a>算法 — 解题的方法和步骤</h3><p>衡量算法的标准:</p>\n<ul>\n<li>时间复杂度 — 大概率执行的次数, 而非执行的时间</li>\n<li>空间复杂度 — 算法执行过程中大概占用的最大内存</li>\n<li>难易程度</li>\n<li>健壮性</li>\n</ul>\n<h3 id=\"数据结构的地位\"><a href=\"#数据结构的地位\" class=\"headerlink\" title=\"数据结构的地位\"></a>数据结构的地位</h3><p>数据结构是软件中最核心的课程</p>\n<p>程序 = 数据的存储 + 数据的操作 + 可以被计算机执行的语言</p>\n<h3 id=\"预备知识\"><a href=\"#预备知识\" class=\"headerlink\" title=\"预备知识\"></a>预备知识</h3><ul>\n<li>指针<ul>\n<li>指针的重要性: 指针是 C 语言的灵魂</li>\n<li>定义:<ul>\n<li>地址总线, 指定内存单元的编号, 电脑装系统. 如果你的系统是 32 位, 那就只能读取到 4G 的内存. 范围: 0 - FFFFFFFF(0 - 4G - 1)</li>\n<li>控制总线, 控制读 or 写</li>\n<li>数据总线, 数据传输</li>\n<li>指针就是地址, 地址就是指针. 指针变量是存放内存单元地址的变量, 指针的本质是一个操作受限的非负整数</li>\n</ul>\n</li>\n<li></li>\n</ul>\n</li>\n<li>结构体</li>\n<li>动态内存的分配和释放</li>\n</ul>\n<p>目前进度 第五课</p>\n<h2 id=\"添加书单\"><a href=\"#添加书单\" class=\"headerlink\" title=\"添加书单\"></a>添加书单</h2><p><a href=\"https://item.jd.com/12407475.html\" target=\"_blank\" rel=\"noopener\">数据结构（C语言版）清华大学计算机系列教材</a><br><a href=\"https://book.douban.com/subject/6424904/\" target=\"_blank\" rel=\"noopener\">大话数据结构</a></p>\n","categories":["Blog"],"tags":["数据结构与算法"]},{"title":"简单写作 & 站点配置","url":"/Blog/hexo-usage/%E7%AE%80%E5%8D%95%E5%86%99%E4%BD%9C-%E7%AB%99%E7%82%B9%E9%85%8D%E7%BD%AE/","content":"<h2 id=\"简单写作\"><a href=\"#简单写作\" class=\"headerlink\" title=\"简单写作\"></a>简单写作</h2><h3 id=\"创建一篇文章\"><a href=\"#创建一篇文章\" class=\"headerlink\" title=\"创建一篇文章\"></a>创建一篇文章</h3><p>项目 <code>scaffolds</code> 目录下存放了 <code>draft page post</code> 三种格式文章的模板, 可以通过调用 <code>hexo new {模板名} {文章 title}</code> 的形式创建一篇文章 or 草稿, 例如:</p>\n<ul>\n<li><code>hexo new draft hello-world</code> 会在 <code>source/_drafts</code> 目录下创建 <code>hello-world.md</code> 文件</li>\n<li><code>hexo new page hello-world</code> 会在 <code>source/</code> 目录下创建 <code>hello-world</code> 目录, 并包含 <code>index.md</code> 文件</li>\n<li><code>hexo new hello-world</code> 会在 <code>source/_posts</code> 目录下创建 <code>hello-world.md</code> 文件</li>\n</ul>\n<p>PS: 创建草稿文件在执行编译时不会打包到静态站点目录下</p>\n<h3 id=\"启动本地服务\"><a href=\"#启动本地服务\" class=\"headerlink\" title=\"启动本地服务\"></a>启动本地服务</h3><p>写作的过程中, 为了提升成就感. 总是不停的想要查看当前写作的进展, 此时可以通过以下命令启动一个本地服务实时刷新, 正在编写的文档. 爽的一批~</p>\n<ul>\n<li>npm run server</li>\n<li>hexo server</li>\n<li>hexo s</li>\n</ul>\n<h3 id=\"生成静态文件\"><a href=\"#生成静态文件\" class=\"headerlink\" title=\"生成静态文件\"></a>生成静态文件</h3><p>在<a href=\"https://note.niubishanshan.top/2020/02/06/hexo-usage/hexo-github-pages-%E6%90%AD%E5%BB%BA%E5%85%8D%E8%B4%B9%E5%8D%9A%E5%AE%A2/\">前一篇文章</a>中我们已经提到过, 我们写的 <code>.md</code> 文件最终是要被 <code>hexo</code> 编码成静态站点的. 编码的命令为:</p>\n<ul>\n<li>npm run build</li>\n<li>hexo generate</li>\n<li>hexo g</li>\n</ul>\n<h3 id=\"清除已经生成的文件\"><a href=\"#清除已经生成的文件\" class=\"headerlink\" title=\"清除已经生成的文件\"></a>清除已经生成的文件</h3><p><code>hexo clean</code></p>\n<h3 id=\"列出当前博客的信息\"><a href=\"#列出当前博客的信息\" class=\"headerlink\" title=\"列出当前博客的信息\"></a>列出当前博客的信息</h3><p><code>hexo list</code></p>\n<p>ps: 以上内容参考自 <a href=\"https://hexo.io/docs/commands\" target=\"_blank\" rel=\"noopener\">hexo 官网</a>, 这些命令也可以通过 <code>hexo --help</code> 获取到.</p>\n<h2 id=\"站点配置\"><a href=\"#站点配置\" class=\"headerlink\" title=\"站点配置\"></a>站点配置</h2><h3 id=\"站点基础信息\"><a href=\"#站点基础信息\" class=\"headerlink\" title=\"站点基础信息\"></a>站点基础信息</h3><p>打开项目根目录下的 <code>_config.yml</code> 文件, 找到 <code># Site</code> 并修改为以下内容</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Site</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">圈圈的随手笔记</span>                          <span class=\"comment\"># 博客名字</span></span><br><span class=\"line\"><span class=\"attr\">subtitle:</span> <span class=\"string\">路漫漫其修远兮,</span> <span class=\"string\">吾将上下而求索</span>         <span class=\"comment\"># 你的格言</span></span><br><span class=\"line\"><span class=\"attr\">description:</span> <span class=\"string\">技术学习,</span> <span class=\"string\">读书笔记,</span> <span class=\"string\">生活感悟~</span>      <span class=\"comment\"># 博客描述</span></span><br><span class=\"line\"><span class=\"attr\">keywords:</span> <span class=\"string\">前端,</span> <span class=\"string\">JavaScript,</span> <span class=\"string\">Node,</span> <span class=\"string\">全栈,</span> <span class=\"string\">读书</span>  <span class=\"comment\"># 博客关键字</span></span><br><span class=\"line\"><span class=\"attr\">author:</span> <span class=\"string\">圈圈的圈</span>                             <span class=\"comment\"># 你的名字</span></span><br><span class=\"line\"><span class=\"attr\">language:</span> <span class=\"string\">zh-CN</span>                             <span class=\"comment\"># 博客语言 - 这个是中文</span></span><br><span class=\"line\"><span class=\"attr\">timezone:</span> <span class=\"string\">''</span>                                <span class=\"comment\"># 时区, 默认是当地时区</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"安装-next-主题\"><a href=\"#安装-next-主题\" class=\"headerlink\" title=\"安装 next 主题\"></a>安装 next 主题</h2><p>项目目录下的 themes 目录下存放的就是博客的主题文件, 默认是 <code>landscape</code> 主题看上去也挺简洁但是我不喜欢, 那就改呗~</p>\n<ul>\n<li>首先, 在项目目录下执行 <code>git clone https://github.com/theme-next/hexo-theme-next.git themes/next</code> 克隆 next 主题到 themes 目录下</li>\n<li>其次, 修改 <code>_config.yml</code> 文件</li>\n<li>最后, 执行 <code>hexo s</code> 启动文章预览服务</li>\n</ul>\n<p>访问 <a href=\"http://localhost:4000/\" target=\"_blank\" rel=\"noopener\">localhost:4000</a><br><img src=\"http://handle-note-img.niubishanshan.top/2020-02-06-03-05-15.png\" alt=\"2020-02-06-03-05-15\"></p>\n<p>虽然是能用了, 但是也没有很好看呀… 😂</p>\n","categories":["Blog"],"tags":["hexo"]},{"title":"hexo & github pages 搭建免费博客","url":"/Blog/hexo-usage/hexo-github-pages-%E6%90%AD%E5%BB%BA%E5%85%8D%E8%B4%B9%E5%8D%9A%E5%AE%A2/","content":"<blockquote>\n<p>Blog 系列文章不会对外发布, 多数情况是分享给以后的自己, 所以默认读者为高级前端工程师啦~</p>\n</blockquote>\n<h2 id=\"项目背景\"><a href=\"#项目背景\" class=\"headerlink\" title=\"项目背景\"></a>项目背景</h2><p>本文即将创建的博客系统基于 <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">hexo</a>, 博客托管平台为 <a href=\"https://github.com/\" target=\"_blank\" rel=\"noopener\">github</a>, 基于 <a href=\"https://pages.github.com/\" target=\"_blank\" rel=\"noopener\">github pages</a> 实现 hexo 生成的静态文件的托管能力, 默认读者已经对以上三者有一定的了解…</p>\n<h2 id=\"准备工作\"><a href=\"#准备工作\" class=\"headerlink\" title=\"准备工作\"></a>准备工作</h2><ul>\n<li>首先, 到 github 创建一个空的仓库命名为 <code>handle-note</code></li>\n</ul>\n<p><img src=\"http://handle-note-img.niubishanshan.top/2020-02-06-00-10-23.png\" alt=\"2020-02-06-00-10-23\"></p>\n<ul>\n<li>其次, 安装 hexo-cli <code>npm install hexo-cli -g</code></li>\n<li>最后, 在你喜欢的目录下执行 <code>hexo init handle-note</code> 名字只是为了和 github 项目名字一样, 完成博客项目的初始化</li>\n</ul>\n<h2 id=\"关联本地项目和远程项目\"><a href=\"#关联本地项目和远程项目\" class=\"headerlink\" title=\"关联本地项目和远程项目\"></a>关联本地项目和远程项目</h2><p>hexo 项目初始化完成后, 进入项目目录并执行以下命令, 完成初始化项目的 git 处理</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">git init</span><br><span class=\"line\">git commit -m <span class=\"string\">\"hexo init\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 注意, 实际使用的时候这里的 luoquanquan 要变成你自己的用户名</span></span><br><span class=\"line\">git remote add origin git@github.com:luoquanquan/handle-note.git</span><br><span class=\"line\">git push -u origin master</span><br></pre></td></tr></table></figure>\n\n<p>到了这一步, 就完成了初始化项目的构建</p>\n<h2 id=\"修改配置文件生成目录为-docs\"><a href=\"#修改配置文件生成目录为-docs\" class=\"headerlink\" title=\"修改配置文件生成目录为 docs\"></a>修改配置文件生成目录为 docs</h2><p>打开项目目录下的 <code>_config.yml</code> 文件, 找到 <code># Directory</code> 下的 <code>public_dir: public</code> 字段, 把 <code>public</code> 改为 <code>docs</code></p>\n<h2 id=\"生成-blog-项目-并-push-代码\"><a href=\"#生成-blog-项目-并-push-代码\" class=\"headerlink\" title=\"生成 blog 项目, 并 push 代码\"></a>生成 blog 项目, 并 push 代码</h2><ul>\n<li>执行 <code>hexo g</code> 生成静态博客网站</li>\n<li>将生成的 <code>docs</code> 目录的所有内容推送到远程</li>\n</ul>\n<h2 id=\"启动-github-pages\"><a href=\"#启动-github-pages\" class=\"headerlink\" title=\"启动 github pages\"></a>启动 github pages</h2><ul>\n<li>点击项目设置<br><img src=\"http://handle-note-img.niubishanshan.top/2020-02-06-01-24-33.png\" alt=\"2020-02-06-01-24-33\"></li>\n<li>在项目设置中的 github pages 栏目 Source 选项卡选择 master branch /docs folder<br><img src=\"http://handle-note-img.niubishanshan.top/2020-02-06-01-25-54.png\" alt=\"2020-02-06-01-25-54\"></li>\n<li>访问  <code>luoquanquan.github.io/handle-note/</code> 查看效果发现样式乱掉了<br><img src=\"http://handle-note-img.niubishanshan.top/2020-02-06-01-29-02.png\" alt=\"2020-02-06-01-29-02\"></li>\n</ul>\n<h2 id=\"修改-blog-站点路径\"><a href=\"#修改-blog-站点路径\" class=\"headerlink\" title=\"修改 blog 站点路径\"></a>修改 blog 站点路径</h2><p>打开 <code>_config.yml</code> 文件, 找到 <code># URL</code> 下的 <code>root: /</code> -&gt; <code>root: /handle-note/</code><br>再次, 打包 -&gt; push</p>\n<p>然后访问 <code>luoquanquan.github.io/handle-note/</code><br><img src=\"http://handle-note-img.niubishanshan.top/2020-02-06-01-41-31.png\" alt=\"2020-02-06-01-41-31\"></p>\n<p>配置完成, 由于 docs 项目在主体项目中, 方便的实现了博客项目的版本管理能力</p>\n","categories":["Blog"],"tags":["hexo","github pages"]},{"title":"隐藏滚动条","url":"/%E5%89%8D%E7%AB%AF/CSS/%E9%9A%90%E8%97%8F%E6%BB%9A%E5%8A%A8%E6%9D%A1/","content":"<p>使用纯 CSS 实现隐藏滚动条, 内容比较少直接放代码链接了:</p>\n<p><a href=\"https://github.com/luoquanquan/learn-fe/blob/master/hidden-scroll-bar/readMe.md\" target=\"_blank\" rel=\"noopener\">Reference</a></p>\n","categories":["前端"],"tags":["CSS"]},{"title":"chrome 禁止网页自动跳转 https.md","url":"/Tips/tips/chrome%20%E7%A6%81%E6%AD%A2%E7%BD%91%E9%A1%B5%E8%87%AA%E5%8A%A8%E8%B7%B3%E8%BD%AC%20https/","content":"<ul>\n<li>在地址栏输入 <code>chrome://net-internals/#hsts</code> 并回车</li>\n<li>在打开的页面中 <code>Delete domain security policies</code> 栏目下的输入框输入你要禁止跳转 https 的域名</li>\n<li>点击 <code>Delete</code></li>\n<li>然后在 <code>Query HSTS/PKP domain</code> 栏目下的输入框在次输入你刚刚输入的域名</li>\n<li>点击 <code>Query</code></li>\n<li>如果返回的是 <code>Not found</code> 说明禁用成功, 你可以用 <code>http</code> 方式访问网站了</li>\n</ul>\n","categories":["Tips"],"tags":["浏览器"]},{"title":"历史版本浏览器下载","url":"/Tips/tips/%E5%8E%86%E5%8F%B2%E7%89%88%E6%9C%AC%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8B%E8%BD%BD/","content":"<h2 id=\"历史版本浏览器-用于-debug\"><a href=\"#历史版本浏览器-用于-debug\" class=\"headerlink\" title=\"历史版本浏览器, 用于 debug\"></a>历史版本浏览器, 用于 debug</h2><ul>\n<li><a href=\"https://www.chromedownloads.net/\" target=\"_blank\" rel=\"noopener\">Chrome</a></li>\n<li><a href=\"http://ftp.mozilla.org/pub/firefox/releases/\" target=\"_blank\" rel=\"noopener\">Fire Fox</a></li>\n</ul>\n","categories":["Tips"],"tags":["浏览器"]},{"title":"parseInt vs Math.floor","url":"/JavaScript/basic-js/parseInt-vs-Math-floor/","content":"<blockquote>\n<p>parseInt 和 Math.floor 都可以实现取整, 但是处理的方式存在差别</p>\n</blockquote>\n<h2 id=\"parseInt\"><a href=\"#parseInt\" class=\"headerlink\" title=\"parseInt\"></a>parseInt</h2><p>parseInt(string, radix) 将一个字符串 string 转换为 radix 进制的整数, radix 为介于 2 - 36 之间的整数</p>\n<p>其中</p>\n<p>string: 是要被解析的字符串, 如果传入的值不是一个字符串则会将其转化成字符串(toString 方法), 字符串开头结尾的空白字符会被忽略</p>\n<p>radix: 一个介于 2 - 36 的整数, 表示的是上述字符串的基数. 默认值是 10, 如果传入的 radix 小于 2 或者大于 36 则返回 NaN</p>\n<ul>\n<li>可以处理数字(调用数字的 toString 方法将其转化成字符串)<ul>\n<li>parseInt(1.1) -&gt; 1</li>\n<li>parseInt(1.9) -&gt; 1</li>\n<li>parseInt(0.9) -&gt; 0</li>\n<li>parseInt(-1.9) -&gt; -1</li>\n</ul>\n</li>\n<li>可以处理 <font color=\"red\">数字开头的字符串</font><ul>\n<li>parseInt(‘-1’) -&gt; -1</li>\n<li>parseInt(‘10px’) -&gt; 10</li>\n<li>…</li>\n</ul>\n</li>\n<li>可以把 2 - 36 进制的数转为 10 进制<ul>\n<li>parseInt(11, 2) -&gt; 3</li>\n<li>parseInt(11, 8) -&gt; 9</li>\n<li>parseInt(11, 10) -&gt; 11</li>\n<li>parseInt(11, 16) -&gt; 17</li>\n<li>parseInt(11, 36) -&gt; 37</li>\n<li>…</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Math-floor\"><a href=\"#Math-floor\" class=\"headerlink\" title=\"Math.floor\"></a>Math.floor</h2><p>Math.floor(x) ===  向下取整, 返回小于或者等于给定数字的最大整数</p>\n<p>其中 x 是需要解析的数字</p>\n<ul>\n<li>Math.floor(1.2) -&gt; 1</li>\n<li>Math.floor(1.9) -&gt; 1</li>\n<li><font color=\"red\">Math.floor(-1.2) -&gt; -2</font> 真正的向下取整</li>\n<li>Math.floor(‘1.9’) -&gt; 1 也可以处理字符串(不建议用)</li>\n</ul>\n<h2 id=\"parseFloat\"><a href=\"#parseFloat\" class=\"headerlink\" title=\"parseFloat\"></a>parseFloat</h2><p>parseFloat(x) 函数可解析一个字符串, 并返回一个浮点数</p>\n<p>其中 x 是需要解析的字符串</p>\n<p>parseFloat 将它的字符串参数解析成为浮点数并返回. 如果在解析过程中遇到了正负号 (+ 或 -) 数字 (0-9) 小数点, 或者科学记数法中的指数 (e 或 E) 以外的字符, 则它会忽略该字符以及之后的所有字符, 返回当前已经解析到的浮点数. 同时参数字符串首位的空白符会被忽略</p>\n<p>PS: 如果字符串的第一个字符不能被转换为数字, 那么 parseFloat() 会返回 NaN.</p>\n","categories":["JavaScript"],"tags":["Math","Number"]},{"title":"9 种方式实现数组去重","url":"/JavaScript/dataStructures-algorithms/NOTE/9%20%E7%A7%8D%E6%96%B9%E5%BC%8F%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D/","content":"<blockquote>\n<p>业务需求跟的太久了, 回首技术真的落后好多. 即将而立之年, 重拾基础. 不知该感到荣幸还是有点酸楚</p>\n</blockquote>\n<h2 id=\"方法一-两层循环-通过标记判断是否更新结果数组\"><a href=\"#方法一-两层循环-通过标记判断是否更新结果数组\" class=\"headerlink\" title=\"方法一, 两层循环, 通过标记判断是否更新结果数组\"></a>方法一, 两层循环, 通过标记判断是否更新结果数组</h2><ul>\n<li>定义 ret = [] 用于存放结果数组</li>\n<li>定义 repeat 变量作为当前元素是否存在的标记值, 并默认赋值为 false</li>\n<li>外层循环, 遍历原数组中的每一个元素, 遍历前先把 repeat 置为 false 假设当前元素没有未在结果数组中出现</li>\n<li>内层循环, 遍历当前的结果数组. 如果当前的结果数组中已经包含了外层循环中遍历的元素, 标记 repeat 为 ture</li>\n<li>判断 repeat 的值, 如果当前元素没有存在于结果数组中, 则向结果数组中添加当前值</li>\n<li>遍历完成后返回结果数组, 即为不包含重复项的数组</li>\n</ul>\n<p>本方法代码<a href=\"https://github.com/luoquanquan/learn-fe/commit/57d583c49d8d6119976659fe3bf9f456a899a706\" target=\"_blank\" rel=\"noopener\">地址</a></p>\n<p>通过 github 上的评论可以看到当前提交的代码有 bug, 修改的代码为<a href=\"https://github.com/luoquanquan/learn-fe/commit/8a0fc3ae271c2f703d21f2ac281d961dfbeea1c7\" target=\"_blank\" rel=\"noopener\">地址</a></p>\n<h2 id=\"方法二-先给数组排序-在逐个比较\"><a href=\"#方法二-先给数组排序-在逐个比较\" class=\"headerlink\" title=\"方法二, 先给数组排序, 在逐个比较\"></a>方法二, 先给数组排序, 在逐个比较</h2><ul>\n<li>定义 ret = [] 用于存放结果数组</li>\n<li>备份原数组并对备份的数组进行排序</li>\n<li>启动循环, 一次对比当前元素和结果数组中的最后一个元素, 相等则跳过, 不相等加入结果数组</li>\n<li>遍历完成后返回结果数组, 即为不包含重复项的数组</li>\n</ul>\n<p>本方法代码<a href=\"https://github.com/luoquanquan/learn-fe/commit/c69aabd43dc0dc0166f1d7cbbaba17579acb89b2\" target=\"_blank\" rel=\"noopener\">地址</a></p>\n<h2 id=\"方法三-利用对象的属性不能重复的特性\"><a href=\"#方法三-利用对象的属性不能重复的特性\" class=\"headerlink\" title=\"方法三, 利用对象的属性不能重复的特性\"></a>方法三, 利用对象的属性不能重复的特性</h2><ul>\n<li>创建一个空对象用于存放不重复值, 这里可以优化成 <code>Object.create(null)</code></li>\n<li>创建结果数组</li>\n<li>遍历原数组, 把各个值当做对象的 key 存入对象, 如果对象的 key 出现重复值后边的会直接覆盖掉前边的</li>\n<li>遍历对象, 并把所有的 key 作为元素 push 到结果数组中</li>\n<li>遍历完成后返回结果数组, 即为不包含重复项的数组</li>\n</ul>\n<p>本方法代码<a href=\"https://github.com/luoquanquan/learn-fe/commit/1f04c7391ca27c7c1ac6d9a0f09551cf19925614\" target=\"_blank\" rel=\"noopener\">地址</a></p>\n<h2 id=\"方法四-还是利用对象的属性不能重复的特性\"><a href=\"#方法四-还是利用对象的属性不能重复的特性\" class=\"headerlink\" title=\"方法四, 还是利用对象的属性不能重复的特性\"></a>方法四, 还是利用对象的属性不能重复的特性</h2><ul>\n<li>创建一个空对象用于存放不重复值, 这里可以优化成 <code>Object.create(null)</code></li>\n<li>创建结果数组</li>\n<li>遍历原数组, 判断对象是否已经存在当前 item 为 key 的成员, 如果有说明之前的遍历中出现过该值-跳过, 如果没有对象中添加对应的属性同时给结果数组中添加相应的值</li>\n<li>遍历完成后返回结果数组, 即为不包含重复项的数组</li>\n</ul>\n<p>本方法代码<a href=\"https://github.com/luoquanquan/learn-fe/commit/0f50bab95474fadf6d828c90f70c7bc0fa5f5764\" target=\"_blank\" rel=\"noopener\">地址</a></p>\n<h2 id=\"方法五-找到一个元素看他的后边还有没有和他一样的元素\"><a href=\"#方法五-找到一个元素看他的后边还有没有和他一样的元素\" class=\"headerlink\" title=\"方法五, 找到一个元素看他的后边还有没有和他一样的元素\"></a>方法五, 找到一个元素看他的后边还有没有和他一样的元素</h2><ul>\n<li>备份原数组, 并作为结果数组</li>\n<li>遍历备份的数组</li>\n<li>取出当前的元素</li>\n<li>遍历当前元素到数组的结尾, 如果有和当前元素相等的元素则 splice 掉</li>\n<li>len– 因为删除了一个元素故数组的长度减一</li>\n<li>j– 因为和当前元素相等的后位元素已经被删除, 之后的元素迁移, 所以需要 j– 修正内部遍历的索引值</li>\n<li>遍历完成后返回结果数组, 即为不包含重复项的数组</li>\n</ul>\n<p>本方法代码<a href=\"https://github.com/luoquanquan/learn-fe/commit/43539818cea6c0e91bd6ed2b340dab491f8be2d0\" target=\"_blank\" rel=\"noopener\">地址</a></p>\n<h2 id=\"方法六-同方法二-先给数组排序-在逐个比较-此处利用了递归\"><a href=\"#方法六-同方法二-先给数组排序-在逐个比较-此处利用了递归\" class=\"headerlink\" title=\"方法六, 同方法二, 先给数组排序, 在逐个比较, 此处利用了递归\"></a>方法六, 同方法二, 先给数组排序, 在逐个比较, 此处利用了递归</h2><p>本方法代码<a href=\"https://github.com/luoquanquan/learn-fe/commit/3378001ce9424d10a0cb4df318b4d723f0502080\" target=\"_blank\" rel=\"noopener\">地址</a></p>\n<h2 id=\"方法七-遍历数组-看前方有没有和当前值相等的值\"><a href=\"#方法七-遍历数组-看前方有没有和当前值相等的值\" class=\"headerlink\" title=\"方法七, 遍历数组, 看前方有没有和当前值相等的值\"></a>方法七, 遍历数组, 看前方有没有和当前值相等的值</h2><ul>\n<li>定义 ret = [] 用于存放结果数组</li>\n<li>遍历原数组, 取出当前项, 如果当前项的前方存在相等的项跳过, 否则说明这是当前项最后一次在数组中出现将其加入到结果数组</li>\n<li>遍历完成后返回结果数组, 即为不包含重复项的数组</li>\n</ul>\n<p>本方法代码<a href=\"https://github.com/luoquanquan/learn-fe/commit/8e9f384f9adf391ad8afc71c46096dd80d8df335\" target=\"_blank\" rel=\"noopener\">地址</a></p>\n<h2 id=\"方法八-使用-reduce-原理同方法一\"><a href=\"#方法八-使用-reduce-原理同方法一\" class=\"headerlink\" title=\"方法八, 使用 reduce 原理同方法一\"></a>方法八, 使用 reduce 原理同方法一</h2><p>本方法代码<a href=\"https://github.com/luoquanquan/learn-fe/commit/4b314b641eeaa0da4ae0ccf6ba1bbfff96bf4852\" target=\"_blank\" rel=\"noopener\">地址</a></p>\n<h2 id=\"方法九-利用-Set-值不能重复的特性实现数组的去重\"><a href=\"#方法九-利用-Set-值不能重复的特性实现数组的去重\" class=\"headerlink\" title=\"方法九, 利用 Set 值不能重复的特性实现数组的去重\"></a>方法九, 利用 Set 值不能重复的特性实现数组的去重</h2><p>过于简单, 不再赘述</p>\n<p>本方法代码<a href=\"https://github.com/luoquanquan/learn-fe/commit/29526d14c6e7a27315b6d4bdb1cc457f9144cf2c\" target=\"_blank\" rel=\"noopener\">地址</a></p>\n","categories":["JavaScript"],"tags":["数据结构与算法"]},{"title":"生成随机数","url":"/JavaScript/dataStructures-algorithms/NOTE/%E7%94%9F%E6%88%90%E9%9A%8F%E6%9C%BA%E6%95%B0/","content":"<h2 id=\"基础知识\"><a href=\"#基础知识\" class=\"headerlink\" title=\"基础知识\"></a>基础知识</h2><ul>\n<li><p><code>Math.ceil(n)</code> 向上取整, 返回大于等于 n 的整数</p>\n</li>\n<li><p><code>Math.floor(n)</code> 向下取整, 返回 n 的整数部分</p>\n</li>\n<li><p><code>parseInt(n)</code> 向下取整, 返回 n 的整数部分</p>\n</li>\n<li><p><code>Math.round(n)</code> 四舍五入取整, 返回 n 四舍五入后的整数</p>\n</li>\n<li><p><code>Math.random(n)</code> 生成 [0, 1) 的随机数</p>\n</li>\n<li><p><code>Math.ceil(Math.random()*10)</code> 均衡获取 [1, 10] 之间的随机整数</p>\n<details>\n  <summary>代码示例详情</summary>\n\n  <figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> i = <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> ret = []</span><br><span class=\"line\"><span class=\"keyword\">while</span>(i++ &lt; <span class=\"number\">1e9</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> randomNum = <span class=\"built_in\">Math</span>.ceil(<span class=\"built_in\">Math</span>.random()*<span class=\"number\">10</span>)</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (ret[randomNum]) &#123;</span><br><span class=\"line\">    ret[randomNum]++</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    ret[randomNum] = <span class=\"number\">1</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.table(ret)</span><br></pre></td></tr></table></figure>\n<p>  上述代码运行的结果如下:</p>\n<p>  node 中:</p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">┌─────────┬───────────┐</span><br><span class=\"line\">│ (index) │  Values   │</span><br><span class=\"line\">├─────────┼───────────┤</span><br><span class=\"line\">│    1    │ 100004455 │</span><br><span class=\"line\">│    2    │ 99992092  │</span><br><span class=\"line\">│    3    │ 99995733  │</span><br><span class=\"line\">│    4    │ 99989966  │</span><br><span class=\"line\">│    5    │ 100006012 │</span><br><span class=\"line\">│    6    │ 100004826 │</span><br><span class=\"line\">│    7    │ 99999108  │</span><br><span class=\"line\">│    8    │ 99994649  │</span><br><span class=\"line\">│    9    │ 100004694 │</span><br><span class=\"line\">│   10    │ 100008465 │</span><br><span class=\"line\">└─────────┴───────────┘</span><br></pre></td></tr></table></figure>\n\n<p>  浏览器中:</p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">1: 100002116</span><br><span class=\"line\">2: 99998960</span><br><span class=\"line\">3: 100010656</span><br><span class=\"line\">4: 99996773</span><br><span class=\"line\">5: 100005989</span><br><span class=\"line\">6: 99999774</span><br><span class=\"line\">7: 99997476</span><br><span class=\"line\">8: 100003979</span><br><span class=\"line\">9: 99989204</span><br><span class=\"line\">10: 99995073</span><br></pre></td></tr></table></figure>\n</details>\n</li>\n<li><p><code>Math.floor(Math.random()*10)</code> 均衡获取 [0, 9] 的随机整数</p>\n<details>\n  <summary>代码示例详情</summary>\n\n  <figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> i = <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> ret = []</span><br><span class=\"line\"><span class=\"keyword\">while</span>(i++ &lt; <span class=\"number\">1e9</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> randomNum = <span class=\"built_in\">Math</span>.floor(<span class=\"built_in\">Math</span>.random()*<span class=\"number\">10</span>)</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (ret[randomNum]) &#123;</span><br><span class=\"line\">    ret[randomNum]++</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    ret[randomNum] = <span class=\"number\">1</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.table(ret)</span><br></pre></td></tr></table></figure>\n<p>  上述代码运行的结果如下:</p>\n<p>  node 中:</p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">┌─────────┬───────────┐</span><br><span class=\"line\">│ (index) │  Values   │</span><br><span class=\"line\">├─────────┼───────────┤</span><br><span class=\"line\">│    0    │ 100015160 │</span><br><span class=\"line\">│    1    │ 100006201 │</span><br><span class=\"line\">│    2    │ 99989259  │</span><br><span class=\"line\">│    3    │ 99988278  │</span><br><span class=\"line\">│    4    │ 100005566 │</span><br><span class=\"line\">│    5    │ 100001095 │</span><br><span class=\"line\">│    6    │ 100003096 │</span><br><span class=\"line\">│    7    │ 99981274  │</span><br><span class=\"line\">│    8    │ 100007022 │</span><br><span class=\"line\">│    9    │ 100003049 │</span><br><span class=\"line\">└─────────┴───────────┘</span><br></pre></td></tr></table></figure>\n\n<p>  浏览器中:</p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">0: 100006310</span><br><span class=\"line\">1: 100000609</span><br><span class=\"line\">2: 100001411</span><br><span class=\"line\">3: 99998525</span><br><span class=\"line\">4: 99991009</span><br><span class=\"line\">5: 100001548</span><br><span class=\"line\">6: 100004093</span><br><span class=\"line\">7: 99989084</span><br><span class=\"line\">8: 100013441</span><br><span class=\"line\">9: 99993970</span><br></pre></td></tr></table></figure>\n</details></li>\n<li><p><code>Math.round(Math.random())</code> 均衡比例获取 0 或者 1</p>\n</li>\n<li><p><code>Math.round(Math.random()*10)</code> 获取 [0, 10]的随机整数, 其中获取 0 和 10的几率为获取其他值的一半.</p>\n<details>\n  <summary>详细原因, 概率一目了然</summary><br>\n\n<table>\n<thead>\n<tr>\n<th>随机值范围</th>\n<th>得到的值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>[0, 0.5)</td>\n<td>0</td>\n</tr>\n<tr>\n<td>[0.5, 1.5)</td>\n<td>1</td>\n</tr>\n<tr>\n<td>[1.5, 2.5)</td>\n<td>2</td>\n</tr>\n<tr>\n<td>[2.5, 3.5)</td>\n<td>3</td>\n</tr>\n<tr>\n<td>[3.5, 4.5)</td>\n<td>4</td>\n</tr>\n<tr>\n<td>[4.5, 5.5)</td>\n<td>5</td>\n</tr>\n<tr>\n<td>[5.5, 6.5)</td>\n<td>6</td>\n</tr>\n<tr>\n<td>[6.5, 7.5)</td>\n<td>7</td>\n</tr>\n<tr>\n<td>[7.5, 8.5)</td>\n<td>8</td>\n</tr>\n<tr>\n<td>[8.5, 9.5)</td>\n<td>9</td>\n</tr>\n<tr>\n<td>[9.5, 10)</td>\n<td>10</td>\n</tr>\n<tr>\n<td></details></td>\n<td></td>\n</tr>\n</tbody></table>\n</li>\n</ul>\n<h2 id=\"生成一个-min-max-的随机整数\"><a href=\"#生成一个-min-max-的随机整数\" class=\"headerlink\" title=\"生成一个 [min, max] 的随机整数\"></a>生成一个 [min, max] 的随机整数</h2><ul>\n<li>生成随机数坑定要用到 <code>Math.random() -&gt; [0, 1)</code></li>\n<li>可以把一个数变成整数的方法有: <code>parseInt() Math.floor() Math.round() Math.ceil()</code></li>\n<li>这里选择功能强劲(<a href=\"https://luoquanquan.github.io/note/2020/02/04/basic-js/parseInt-vs-Math-floor\" target=\"_blank\" rel=\"noopener\">为什么这么说呢</a>)的 parseInt 直接截取数字的整数部分向下取整</li>\n<li>那么不难得到 <code>parseInt(Math.random() * 10) -&gt; [0, 9]</code></li>\n<li>所以, 如果我们想要得到一个 [0, max] 的随机数只需要 <code>parseInt(Math.random() * (max + 1))</code></li>\n<li>想要得到一个 [1, max] 的随机数只需要 <code>parseInt(Math.random() * (max - 1 + 1)) + 1</code></li>\n<li>进而可得出, 想要得到一个 [min, max] 的随机数. 把括号里的 -1 和括号外的 +1 等量代换成 min <code>parseInt(Math.random() * (max - min + 1)) + min</code></li>\n</ul>\n<p>最终可以得出, 生成一个 [min, max] 的随机整数的代码为</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> randomNum = <span class=\"function\">(<span class=\"params\">min = <span class=\"number\">0</span>, max = min</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (max === min) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">parseInt</span>(<span class=\"built_in\">Math</span>.random() * (min + <span class=\"number\">1</span>))</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">parseInt</span>(<span class=\"built_in\">Math</span>.random() * (max - min + <span class=\"number\">1</span>) + min)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"生成一个-min-max-的长度为-len-的随机整数数组\"><a href=\"#生成一个-min-max-的长度为-len-的随机整数数组\" class=\"headerlink\" title=\"生成一个 [min, max] 的长度为 len 的随机整数数组\"></a>生成一个 [min, max] 的长度为 len 的随机整数数组</h2><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> randomNum = <span class=\"function\">(<span class=\"params\">min = <span class=\"number\">0</span>, max = min</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (max === min) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">parseInt</span>(<span class=\"built_in\">Math</span>.random() * (min + <span class=\"number\">1</span>))</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">parseInt</span>(<span class=\"built_in\">Math</span>.random() * (max - min + <span class=\"number\">1</span>) + min)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> randomArr = <span class=\"function\">(<span class=\"params\">len, min, max</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> ret = <span class=\"keyword\">new</span> <span class=\"built_in\">Array</span>(len)</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; len; i++) &#123;</span><br><span class=\"line\">    ret[i] = randomNum(min, max)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> ret</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"生成两个数之间的随机数-范围数字\"><a href=\"#生成两个数之间的随机数-范围数字\" class=\"headerlink\" title=\"生成两个数之间的随机数(范围数字)\"></a>生成两个数之间的随机数(范围数字)</h2><h3 id=\"四种情况\"><a href=\"#四种情况\" class=\"headerlink\" title=\"四种情况\"></a>四种情况</h3><h4 id=\"min-max\"><a href=\"#min-max\" class=\"headerlink\" title=\"[min, max]\"></a>[min, max]</h4>  <figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> randomNum = <span class=\"function\">(<span class=\"params\">min, max</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> range = max - min</span><br><span class=\"line\">  <span class=\"keyword\">const</span> random = <span class=\"built_in\">Math</span>.random()</span><br><span class=\"line\">  <span class=\"comment\">// 四舍五入, 存在最小值和最大值概率为一半的问题</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> min + <span class=\"built_in\">Math</span>.round(random * range)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>  运行结果:<br>  <figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">┌─────────┬────────┐</span><br><span class=\"line\">│ (index) │ Values │</span><br><span class=\"line\">├─────────┼────────┤</span><br><span class=\"line\">│    0    │  487   │</span><br><span class=\"line\">│    1    │  989   │</span><br><span class=\"line\">│    2    │  1007  │</span><br><span class=\"line\">│    3    │  1009  │</span><br><span class=\"line\">│    4    │  1029  │</span><br><span class=\"line\">│    5    │  967   │</span><br><span class=\"line\">│    6    │  994   │</span><br><span class=\"line\">│    7    │  1004  │</span><br><span class=\"line\">│    8    │  980   │</span><br><span class=\"line\">│    9    │  1044  │</span><br><span class=\"line\">│   10    │  490   │</span><br><span class=\"line\">└─────────┴────────┘</span><br></pre></td></tr></table></figure></p>\n<p>  通过扩大 min max 的范围并掐头去尾, 解决最大最小值概率为一半的问题<br>  <figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> randomNum = <span class=\"function\">(<span class=\"params\">min, max</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (min &lt; <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">'min 不能小于 1'</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  min = min - <span class=\"number\">1</span></span><br><span class=\"line\">  max = max + <span class=\"number\">1</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> range = max - min</span><br><span class=\"line\">  <span class=\"keyword\">const</span> random = <span class=\"built_in\">Math</span>.random()</span><br><span class=\"line\">  <span class=\"keyword\">const</span> num = min + <span class=\"built_in\">Math</span>.round(random * range)</span><br><span class=\"line\">  <span class=\"keyword\">if</span> ([min, max].includes(num)) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> randomNum(min + <span class=\"number\">1</span>, max - <span class=\"number\">1</span>)</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> num</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>  修改后运行结果:<br>  <figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">┌─────────┬─────────┬──────────┐</span><br><span class=\"line\">│ (index) │    0    │    1     │</span><br><span class=\"line\">├─────────┼─────────┼──────────┤</span><br><span class=\"line\">│    1    │ 998826  │ &#39;9.99%&#39;  │</span><br><span class=\"line\">│    2    │ 1000556 │ &#39;10.01%&#39; │</span><br><span class=\"line\">│    3    │ 999015  │ &#39;9.99%&#39;  │</span><br><span class=\"line\">│    4    │ 997972  │ &#39;9.98%&#39;  │</span><br><span class=\"line\">│    5    │ 1000372 │ &#39;10.00%&#39; │</span><br><span class=\"line\">│    6    │ 1000381 │ &#39;10.00%&#39; │</span><br><span class=\"line\">│    7    │ 1000665 │ &#39;10.01%&#39; │</span><br><span class=\"line\">│    8    │ 1001230 │ &#39;10.01%&#39; │</span><br><span class=\"line\">│    9    │ 1001341 │ &#39;10.01%&#39; │</span><br><span class=\"line\">│   10    │ 999642  │ &#39;10.00%&#39; │</span><br><span class=\"line\">└─────────┴─────────┴──────────┘</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"min-max-1\"><a href=\"#min-max-1\" class=\"headerlink\" title=\"[min, max)\"></a>[min, max)</h4>  <figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> randomNum = <span class=\"function\">(<span class=\"params\">min, max</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> range = max - min</span><br><span class=\"line\">  <span class=\"keyword\">const</span> random = <span class=\"built_in\">Math</span>.random()</span><br><span class=\"line\">  <span class=\"comment\">// 向下取整</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> min + <span class=\"built_in\">Math</span>.floor(random * range)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>  运行结果:<br>  <figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">┌─────────┬─────────┬──────────┐</span><br><span class=\"line\">│ (index) │    0    │    1     │</span><br><span class=\"line\">├─────────┼─────────┼──────────┤</span><br><span class=\"line\">│    1    │ 1110540 │ &#39;11.11%&#39; │</span><br><span class=\"line\">│    2    │ 1109941 │ &#39;11.10%&#39; │</span><br><span class=\"line\">│    3    │ 1111700 │ &#39;11.12%&#39; │</span><br><span class=\"line\">│    4    │ 1110570 │ &#39;11.11%&#39; │</span><br><span class=\"line\">│    5    │ 1111081 │ &#39;11.11%&#39; │</span><br><span class=\"line\">│    6    │ 1112978 │ &#39;11.13%&#39; │</span><br><span class=\"line\">│    7    │ 1112090 │ &#39;11.12%&#39; │</span><br><span class=\"line\">│    8    │ 1111245 │ &#39;11.11%&#39; │</span><br><span class=\"line\">│    9    │ 1109855 │ &#39;11.10%&#39; │</span><br><span class=\"line\">└─────────┴─────────┴──────────┘</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"min-max-2\"><a href=\"#min-max-2\" class=\"headerlink\" title=\"(min, max]\"></a>(min, max]</h4>  <figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> randomNum = <span class=\"function\">(<span class=\"params\">min, max</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> range = max - min</span><br><span class=\"line\">  <span class=\"keyword\">const</span> random = <span class=\"built_in\">Math</span>.random()</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 四舍五入存在最小值和最大值出现的概率是中间值一半的误差, 正好给他均匀过去了</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"built_in\">Math</span>.round(range * random) === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> num = min + <span class=\"built_in\">Math</span>.round(random * range);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> num;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>  运行结果:<br>  <figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">┌─────────┬─────────┬──────────┐</span><br><span class=\"line\">│ (index) │    0    │    1     │</span><br><span class=\"line\">├─────────┼─────────┼──────────┤</span><br><span class=\"line\">│    2    │ 1109886 │ &#39;11.10%&#39; │</span><br><span class=\"line\">│    3    │ 1110669 │ &#39;11.11%&#39; │</span><br><span class=\"line\">│    4    │ 1113279 │ &#39;11.13%&#39; │</span><br><span class=\"line\">│    5    │ 1111945 │ &#39;11.12%&#39; │</span><br><span class=\"line\">│    6    │ 1110154 │ &#39;11.10%&#39; │</span><br><span class=\"line\">│    7    │ 1111446 │ &#39;11.11%&#39; │</span><br><span class=\"line\">│    8    │ 1111335 │ &#39;11.11%&#39; │</span><br><span class=\"line\">│    9    │ 1111244 │ &#39;11.11%&#39; │</span><br><span class=\"line\">│   10    │ 1110042 │ &#39;11.10%&#39; │</span><br><span class=\"line\">└─────────┴─────────┴──────────┘</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"min-max-3\"><a href=\"#min-max-3\" class=\"headerlink\" title=\"(min, max)\"></a>(min, max)</h4>  <figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> randomNum = <span class=\"function\">(<span class=\"params\">min, max</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> range = max - min</span><br><span class=\"line\">  <span class=\"keyword\">const</span> random = <span class=\"built_in\">Math</span>.random()</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> num = min + <span class=\"built_in\">Math</span>.round(random * range);</span><br><span class=\"line\">  <span class=\"comment\">// 命中最大值和最小值时直接忽略</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> ([min, max].includes(num)) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> randomNum(min, max)</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> num</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>  执行结果:<br>  <figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">┌─────────┬─────────┬──────────┐</span><br><span class=\"line\">│ (index) │    0    │    1     │</span><br><span class=\"line\">├─────────┼─────────┼──────────┤</span><br><span class=\"line\">│    2    │ 1249708 │ &#39;12.50%&#39; │</span><br><span class=\"line\">│    3    │ 1248357 │ &#39;12.48%&#39; │</span><br><span class=\"line\">│    4    │ 1248988 │ &#39;12.49%&#39; │</span><br><span class=\"line\">│    5    │ 1251120 │ &#39;12.51%&#39; │</span><br><span class=\"line\">│    6    │ 1250390 │ &#39;12.50%&#39; │</span><br><span class=\"line\">│    7    │ 1252465 │ &#39;12.52%&#39; │</span><br><span class=\"line\">│    8    │ 1248322 │ &#39;12.48%&#39; │</span><br><span class=\"line\">│    9    │ 1250650 │ &#39;12.51%&#39; │</span><br><span class=\"line\">└─────────┴─────────┴──────────┘</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"PS-本系列代码的测试用例\"><a href=\"#PS-本系列代码的测试用例\" class=\"headerlink\" title=\"PS 本系列代码的测试用例\"></a>PS 本系列代码的测试用例</h3><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> i = <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> ret = []</span><br><span class=\"line\"><span class=\"keyword\">const</span> randomNum = <span class=\"function\">(<span class=\"params\">min, max</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> range = max - min</span><br><span class=\"line\">    <span class=\"keyword\">const</span> random = <span class=\"built_in\">Math</span>.random()</span><br><span class=\"line\">    <span class=\"comment\">// 四舍五入, 存在最小值和最大值概率为一半的问题</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> min + <span class=\"built_in\">Math</span>.floor(random * range)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"><span class=\"keyword\">while</span>(i++ &lt; <span class=\"number\">1e7</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> random = randomNum(<span class=\"number\">1</span>, <span class=\"number\">10</span>)</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (ret[random]) &#123;</span><br><span class=\"line\">    ret[random]++</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    ret[random] = <span class=\"number\">1</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">ret = ret.map(<span class=\"function\"><span class=\"params\">i</span> =&gt;</span> [i, <span class=\"string\">`<span class=\"subst\">$&#123;(i <span class=\"regexp\">/ 1e7 * 100).toFixed(2)&#125;%`])</span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"subst\"><span class=\"regexp\">console.table(ret)</span></span></span></span><br></pre></td></tr></table></figure>\n","categories":["JavaScript"],"tags":["Math","数据结构与算法","JavaScript","Random"]},{"title":"同时配置 gitlab 和 github","url":"/Tips/GitHub/tips/%E5%90%8C%E6%97%B6%E9%85%8D%E7%BD%AE%20gitlab%20%E5%92%8C%20github/","content":"<h2 id=\"背景\"><a href=\"#背景\" class=\"headerlink\" title=\"背景\"></a>背景</h2><blockquote>\n<p>日常工作中, 公司内部项目通常是 git 来管理. 自己做的开源项目 Or 学习第三方的大佬开源的项目往往在 github 或者 coding 之类的平台上也由 git 来管理. 那么问题来了…</p>\n</blockquote>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">git clone git@github.com:luoquanquan/handle-note.git</span><br><span class=\"line\">正克隆到 'handle-note'...</span><br><span class=\"line\">ssh: Could not resolve hostname github.com2: nodename nor servname provided, or not known</span><br><span class=\"line\">fatal: 无法读取远程仓库。</span><br><span class=\"line\"></span><br><span class=\"line\">请确认您有正确的访问权限并且仓库存在。</span><br></pre></td></tr></table></figure>\n\n<p>当要 <code>clone</code> GitHub 上的项目时会发现没有权限了. 面对这种情况有三种方案</p>\n<h2 id=\"直接下载\"><a href=\"#直接下载\" class=\"headerlink\" title=\"直接下载\"></a>直接下载</h2><ul>\n<li>点击 Clone or download 的绿色按钮</li>\n<li>在弹出的下拉框中点击右下角 <code>Download Zip</code> 下载代码库的安装包</li>\n</ul>\n<p>使用此方案下载的代码包解压后不包含 <code>.git</code> 项目配置目录无法跟踪项目并提交</p>\n<h2 id=\"使用-https-方案\"><a href=\"#使用-https-方案\" class=\"headerlink\" title=\"使用 https 方案\"></a>使用 https 方案</h2><ul>\n<li>点击 Clone or download 的绿色按钮</li>\n<li>在弹出的下拉框中点击左上角 Use HTTPS 输入框中的链接变成了以 https 开头</li>\n<li>执行以下命令<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">git clone https://github.com/luoquanquan/handle-note.git</span><br></pre></td></tr></table></figure></li>\n<li>展示的结果如下<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">正克隆到 'handle-note'...</span><br><span class=\"line\">remote: Enumerating objects: 220, done.</span><br><span class=\"line\">remote: Counting objects: 100% (220/220), done.</span><br><span class=\"line\">remote: Compressing objects: 100% (154/154), done.</span><br><span class=\"line\">remote: Total 220 (delta 40), reused 219 (delta 39), pack-reused 0</span><br><span class=\"line\">接收对象中: 100% (220/220), 593.36 KiB | 70.00 KiB/s, 完成.</span><br><span class=\"line\">处理 delta 中: 100% (40/40), 完成.</span><br></pre></td></tr></table></figure></li>\n<li>完成</li>\n</ul>\n<p>使用以上方法克隆的项目可以正常跟踪和提交</p>\n<h2 id=\"创建配置文件支持-shh-方式\"><a href=\"#创建配置文件支持-shh-方式\" class=\"headerlink\" title=\"创建配置文件支持 shh 方式\"></a>创建配置文件支持 shh 方式</h2><ul>\n<li>打开命令行, 执行 <code>sh $ ssh-keygen -t rsa -b 4096 -C &quot;your_email@example.com&quot;</code></li>\n<li><code>Enter file in which to save the key</code> 在这一步的时候切记创建一个新的 key 名字, 否则会覆盖掉当前正在用的秘钥文件; 示例: <code>/Users/quanquanluo/.ssh/id_github_rsa</code></li>\n<li>一路回车…</li>\n<li>完成后进入用户的秘钥目录 Mac: <code>~/.ssh</code> Windows: <code>C:/Users/quanquan/.ssh</code> 此时该目录下文件列表<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">id_github_rsa.pub id_rsa.pub id_github_rsa</span><br><span class=\"line\">id_rsa            known_hosts</span><br></pre></td></tr></table></figure>\n包含了公司 git 的配置文件和 github 项目的配置文件</li>\n<li>把生成文件 id_github_rsa.pub 中的内容粘贴到这里 <a href=\"https://github.com/settings/ssh/new\" target=\"_blank\" rel=\"noopener\">https://github.com/settings/ssh/new</a> 在登录的 github 的前提下</li>\n<li>最后, 在当前目录创建 config 文件, 并粘贴一下内容<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">Host 我的公司</span><br><span class=\"line\">    HostName baidu.gitlab.com</span><br><span class=\"line\">    IdentityFile \"~/.ssh/id_rsa\"</span><br><span class=\"line\">Host GitHub</span><br><span class=\"line\">    HostName github.com</span><br><span class=\"line\">    IdentityFile \"~/.ssh/id_github_rsa\"</span><br></pre></td></tr></table></figure></li>\n<li>验证:<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">git clone git@github.com:luoquanquan/handle-note.git</span><br><span class=\"line\">正克隆到 'handle-note'...</span><br><span class=\"line\">remote: Enumerating objects: 220, done.</span><br><span class=\"line\">remote: Counting objects: 100% (220/220), done.</span><br><span class=\"line\">remote: Compressing objects: 100% (154/154), done.</span><br><span class=\"line\">remote: Total 220 (delta 40), reused 219 (delta 39), pack-reused 0</span><br><span class=\"line\">接收对象中: 100% (220/220), 593.36 KiB | 84.00 KiB/s, 完成.</span><br><span class=\"line\">处理 delta 中: 100% (40/40), 完成.</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<h2 id=\"https-和-ssh-的区别\"><a href=\"#https-和-ssh-的区别\" class=\"headerlink\" title=\"https 和 ssh 的区别\"></a>https 和 ssh 的区别</h2><h3 id=\"clone-项目\"><a href=\"#clone-项目\" class=\"headerlink\" title=\"clone 项目\"></a>clone 项目</h3><p>使用 ssh 方式 clone 项目, 你必须是该项目的拥有者或者管理者. 并且已经成功配置了 ssh key, 然而使用 http 方式 clone 项目没有这个限制, 你可以随意克隆 github 上的项目</p>\n<h3 id=\"push-项目\"><a href=\"#push-项目\" class=\"headerlink\" title=\"push 项目\"></a>push 项目</h3><p>使用 ssh 方式 push 代码时, 你不需要验证用户名和密码. 但是如果你再创建 <code>ssh key</code> 时设置了密码就需要验证配对密码了. 而对于使用 https 的用户每次 push 代码的时候需要验证用户名和密码(首次推送可以选择缓存)</p>\n","categories":["Tips","GitHub"],"tags":["Mac","Windows","git","GitHub"]},{"title":"查询指定端口号对应的任务","url":"/Tips/tips/Mac%20%E5%88%87%E6%8D%A2%20zsh%20%E5%92%8C%20bash/","content":"<h2 id=\"zsh-gt-bash\"><a href=\"#zsh-gt-bash\" class=\"headerlink\" title=\"zsh -&gt; bash\"></a>zsh -&gt; bash</h2><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">chsh -s /bin/bash</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"bash-gt-zsh\"><a href=\"#bash-gt-zsh\" class=\"headerlink\" title=\"bash -&gt; zsh\"></a>bash -&gt; zsh</h2><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">chsh -s /bin/zsh</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"PS-两种操作之后都需要重启终端才能生效\"><a href=\"#PS-两种操作之后都需要重启终端才能生效\" class=\"headerlink\" title=\"PS: 两种操作之后都需要重启终端才能生效\"></a>PS: 两种操作之后都需要重启终端才能生效</h2>","categories":["Tips"],"tags":["Mac"]},{"title":"Redis 基础","url":"/%E5%90%8E%E7%AB%AF/redis/Redis%20%E5%9F%BA%E7%A1%80/","content":"<h2 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h2><figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">brew install redis</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"配置文件路径\"><a href=\"#配置文件路径\" class=\"headerlink\" title=\"配置文件路径\"></a>配置文件路径</h2><figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">/usr/local/etc/redis.conf</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"启动\"><a href=\"#启动\" class=\"headerlink\" title=\"启动\"></a>启动</h2><figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 前台启动</span></span><br><span class=\"line\">redis-server</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 后台启动</span></span><br><span class=\"line\">redis-server &amp;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"客户端-cli\"><a href=\"#客户端-cli\" class=\"headerlink\" title=\"客户端 cli\"></a>客户端 cli</h2><figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">redis-cli</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"redis-数据类型\"><a href=\"#redis-数据类型\" class=\"headerlink\" title=\"redis 数据类型\"></a>redis 数据类型</h2><ul>\n<li>string 字符串 <code>get set getrange incr decr expire</code></li>\n<li>hash 对象 <code>hset hget hdel hmget hgetall</code></li>\n<li>列表 数组 <code>lpush lpop lrange lrem lindex rpush rpop ...</code></li>\n<li>set 集合<ul>\n<li>无序集合 <code>sadd smembers srem sunion sinter sdiff</code></li>\n<li>有序集合 <code>zadd zrange withscores</code></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"操作\"><a href=\"#操作\" class=\"headerlink\" title=\"操作\"></a>操作</h2><h3 id=\"通用\"><a href=\"#通用\" class=\"headerlink\" title=\"通用\"></a>通用</h3><ul>\n<li><p>查看 redis 中的所有 keys</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">keys *</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>删除一条记录</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">del a</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查看记录值的类型</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">type a</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>给某条记录设置有效时间</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">expire a 5</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查看某条记录的有效时间</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">ttl a</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<h3 id=\"字符串相关\"><a href=\"#字符串相关\" class=\"headerlink\" title=\"字符串相关\"></a>字符串相关</h3><ul>\n<li><p>设置一条记录</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">set a 1</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>获取记录</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">get a</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>让某条记录自增</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">incr a</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>让某条记录自减</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">decr a</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>获取某条记录指定范围内的值</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">set name quanquan</span><br><span class=\"line\">getrange name 0 1 # qu -&gt; 包前也包后</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<h3 id=\"hash-相关\"><a href=\"#hash-相关\" class=\"headerlink\" title=\"hash 相关\"></a>hash 相关</h3><ul>\n<li><p>创建一条记录</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">hset user name quanquan</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>获取记录的属性</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">hget user name</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>设置记录的另一条属性</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">hset user sex male</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>获取记录的多条属性</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">hmget user sex name</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>获取记录的所有内容</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">hgetall user</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>删除记录的某个属性字段</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">hdel user name</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<h3 id=\"列表相关\"><a href=\"#列表相关\" class=\"headerlink\" title=\"列表相关\"></a>列表相关</h3><ul>\n<li><p>创建一条记录(向左 push)</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">lpush arr 1 2 3 4 5</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查看记录范围内的值</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">lrange arr 0 -1</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>创建一条记录(向右 push)</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">rpush arr2 1 2 3 4 5</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查看记录范围内的值</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">lrange arr2 0 -1</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>从数组头部删除一条记录</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">lpop arr</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>从数组尾部删除一条记录</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">rpop arr</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>删除指定的记录</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">lrem arr 3 3</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 其中, arr 是指定要操作的数组</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 第一个 3 指的是数组遍历数组中的三个元素范围</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 第二个 3 指的是从数组中找到数字 3 并移除他</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>取出数组中指定的项</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> index 是从 0 开始的</span></span><br><span class=\"line\">lindex arr 1</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<h3 id=\"集合相关\"><a href=\"#集合相关\" class=\"headerlink\" title=\"集合相关\"></a>集合相关</h3><h4 id=\"无序集合\"><a href=\"#无序集合\" class=\"headerlink\" title=\"无序集合\"></a>无序集合</h4><ul>\n<li><p>创建一条记录</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">sadd myset 1 2 3 4</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>列出所有的记录</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">smembers myset</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>删除集合中的某一项</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">srem myset 1</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>取两个 set 的并集</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">sunion myset myset1</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>取两个 set 的交集</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">sinter myset myset1</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>取两个 set 的差集</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">sdiff myset myset1</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<h3 id=\"有序集合\"><a href=\"#有序集合\" class=\"headerlink\" title=\"有序集合\"></a>有序集合</h3><ul>\n<li><p>创建记录</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">zadd my 1 100</span><br><span class=\"line\">zadd my 2 200</span><br><span class=\"line\">zadd my 1 101</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查看指定范围的记录</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">zrange my 0 -1</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 1) <span class=\"string\">\"100\"</span></span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 2) <span class=\"string\">\"101\"</span></span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 3) <span class=\"string\">\"200\"</span></span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n","categories":["后端"],"tags":["数据库","Redis"]},{"title":"游标 & 索引 & 权限 & 备份","url":"/%E5%90%8E%E7%AB%AF/mongo/%E6%B8%B8%E6%A0%87%20&%20%E7%B4%A2%E5%BC%95%20&%20%E6%9D%83%E9%99%90%20&%20%E5%A4%87%E4%BB%BD/","content":"<h2 id=\"游标\"><a href=\"#游标\" class=\"headerlink\" title=\"游标\"></a>游标</h2><p>通过 var cursor = db.user.find() 返回的 cursor 其实是一个游标(迭代器), 可以通过不停的使用 cursor.next() 来获取得到的值</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> cursor = db.user.find()</span><br><span class=\"line\"><span class=\"keyword\">while</span>(cursor.hasNext()) &#123;</span><br><span class=\"line\">    print(cursor.next())</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>通过使用以上命令可以打印出 user 中的所有文档</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> cursor = db.user.find()</span><br><span class=\"line\">cursor.forEach(<span class=\"function\"><span class=\"params\">item</span> =&gt;</span> &#123;</span><br><span class=\"line\">    printjson(item)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p>cursor 有 forEach 方法, 但是并不是一个数组</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Array</span>.isArray(cursor)  <span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"索引\"><a href=\"#索引\" class=\"headerlink\" title=\"索引\"></a>索引</h2><p>创建索引</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">db.user.ensureIndex(&#123;name: 1&#125;)</span><br></pre></td></tr></table></figure>\n<p>其中, name 为添加索引的字段名, 1 代表正序, -1 代表倒序</p>\n<h2 id=\"权限\"><a href=\"#权限\" class=\"headerlink\" title=\"权限\"></a>权限</h2><h3 id=\"创建用户\"><a href=\"#创建用户\" class=\"headerlink\" title=\"创建用户\"></a>创建用户</h3><ul>\n<li>使用 admin 数据库 <code>use admin</code></li>\n<li>创建用户<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">db.createUser(&#123;</span><br><span class=\"line\">    user: 'quanquan',</span><br><span class=\"line\">    pwd: '123456',</span><br><span class=\"line\">    roles:[&#123;</span><br><span class=\"line\">        role: 'readWrite',</span><br><span class=\"line\">        db: 'users'</span><br><span class=\"line\">    &#125;]</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure></li>\n<li>关闭 mongodb 以后以需要登录的方式启动<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">mongod --dbpath=/Users/quanquanluo/data/db --auth</span><br></pre></td></tr></table></figure></li>\n<li>登录<ul>\n<li>方案 1, 连接后登录<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 先连接 mongo</span></span><br><span class=\"line\">mongo</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 切换到 admin 数据库</span></span><br><span class=\"line\">use admin</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 登录 mongo</span></span><br><span class=\"line\">db.auth('quanquan', '123456')</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> ...登录完成</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>方案 2, 连接时登录<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">mongo -u quanquan -p 123456 [localhost/admin]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 其中 localhost/admin 的意思是指定数据库, 是可以忽略的</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> ...登录完成</span></span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"备份和还原\"><a href=\"#备份和还原\" class=\"headerlink\" title=\"备份和还原\"></a>备份和还原</h2><h3 id=\"备份\"><a href=\"#备份\" class=\"headerlink\" title=\"备份\"></a>备份</h3><figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> db        数据库名</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> mongodump 集合</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> out       导出的文件</span></span><br><span class=\"line\">mongodump --db users --collection user --out ./bak</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"还原\"><a href=\"#还原\" class=\"headerlink\" title=\"还原\"></a>还原</h3><figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">mongorestore ./bak</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 或者</span></span><br><span class=\"line\">mongorestore --dir ./bak</span><br></pre></td></tr></table></figure>\n","categories":["后端"],"tags":["数据库","MongoDB"]},{"title":"数据库操作","url":"/%E5%90%8E%E7%AB%AF/mongo/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C/","content":"<h2 id=\"基础\"><a href=\"#基础\" class=\"headerlink\" title=\"基础\"></a>基础</h2><ul>\n<li><p>展示所有数据库</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">show dbs</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>创建数据库</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">use users</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查看当前数据库</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">db</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>创建集合(刚刚创建的空数据库不会在 show dbs 中展示出来, 需要添加集合)</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">db.createCollection('user')</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>展示集合</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">show collections</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>删除集合</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">db.user.drop()</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>删除数据库(在需要删除的数据库执行以下命令)</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">db.dropDatabase()</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>删除集合</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">db.user.drop()</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<h2 id=\"新增\"><a href=\"#新增\" class=\"headerlink\" title=\"新增\"></a>新增</h2><ul>\n<li><p>在集合中新增一个文档</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">db.user.insert(&#123;name: 'quanquan'&#125;)</span><br></pre></td></tr></table></figure>\n<p>运行以上命令, 如果当前数据库中已经存在 user 集合则会在 user 集合中创建一条文档, 如果当前数据库中没有 user 集合便会创建 user 集合并向该集合中插入一条文档</p>\n</li>\n<li><p>指定 id 插入文档</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">db.user.insert(&#123;_id: 1, name: 'quanquan'&#125;)</span><br></pre></td></tr></table></figure>\n<p>运行以上命令, 系统会根据你指定的 _id 字段作为文档的 _id 而不会自动生成 ObjectId</p>\n</li>\n<li><p>智能插入方法, 如果当前 _id 的文档存在则更新其记录, 如果不存在则添加一条记录</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">db.user.save(&#123;_id: 1, name: 'quanquandequan', age: '9'&#125;)</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<h2 id=\"删除\"><a href=\"#删除\" class=\"headerlink\" title=\"删除\"></a>删除</h2><ul>\n<li><p>删除符合条件的文档</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">db.user.remove(&#123;name: 'quanquan'&#125;)</span><br></pre></td></tr></table></figure>\n<p>运行以上命令默认会删除所有符合条件的文档</p>\n</li>\n<li><p>删除第一条符合条件的文档</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">db.user.remove(&#123;name: 'quanquan'&#125;, &#123;justOne: true&#125;)</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<h2 id=\"修改\"><a href=\"#修改\" class=\"headerlink\" title=\"修改\"></a>修改</h2><ul>\n<li>查询到文档, 并修改他<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">db.user.update(&#123;_id: 1&#125;, &#123;sex: 'male'&#125;)</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<p>运行以上命令会覆盖式的修改整个文档, 如果只需要修改某个属性, 需要使用 $set</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">db.user.update(&#123;_id: 1&#125;, &#123;$set: &#123;sex: 'male'&#125;&#125;)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"查询\"><a href=\"#查询\" class=\"headerlink\" title=\"查询\"></a>查询</h2><ul>\n<li><p>查询整个集合中的所有文档</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">db.user.find()</span><br></pre></td></tr></table></figure></li>\n<li><p>查询集合中符合条件的文档</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">db.user.find(&#123;name: 'quanquan'&#125;)</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查询数组属性存在某个值的文档</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">db.user.find(&#123;time: 1&#125;)</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查询数组属性存在多个值的文档</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">db.user.find(&#123;time: &#123;$all: [1, 3]&#125;&#125;)</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查询数组属性存在某些值的文档</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">db.user.find(&#123;time: &#123;$in: [1, 3]&#125;&#125;)</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查看当前集合中文档的条数</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">db.user.count()</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>分页</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> pageSize = <span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> currentPage = <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">db.find().limit(pageSize).skip(pageSize * (currentPage - <span class=\"number\">1</span>))</span><br></pre></td></tr></table></figure>\n<p>上述命令中 limit 为限制文档数, skip 为跳过文档数. 组合起来实现了分页的功能</p>\n</li>\n</ul>\n<h2 id=\"操作符\"><a href=\"#操作符\" class=\"headerlink\" title=\"操作符\"></a>操作符</h2><p>正如上述命令中的 $set 还有很多操作符如下,</p>\n<h3 id=\"修改相关\"><a href=\"#修改相关\" class=\"headerlink\" title=\"修改相关\"></a>修改相关</h3><table>\n<thead>\n<tr>\n<th>操作符</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>$set</td>\n<td>不覆盖的设置文档中的某条属性</td>\n</tr>\n<tr>\n<td>$unset</td>\n<td>移除掉文档中的某条属性</td>\n</tr>\n<tr>\n<td>$inc</td>\n<td>文档中某个属性的值自增</td>\n</tr>\n<tr>\n<td>$push</td>\n<td>当文档中某个属性是数组的是时候想属性中添加一个值</td>\n</tr>\n<tr>\n<td>$addToSet</td>\n<td>当文档中某个属性是数组的是时候想属性中添加一个值, 且具备了去重的能力, 如果已经存在相关的记录就不添加了</td>\n</tr>\n<tr>\n<td>$pop</td>\n<td>移除数组属性值中的最后一个值</td>\n</tr>\n<tr>\n<td>‘hobby.0’</td>\n<td>修改数组属性 hobby 的第 0 项的值</td>\n</tr>\n</tbody></table>\n<h3 id=\"查询相关\"><a href=\"#查询相关\" class=\"headerlink\" title=\"查询相关\"></a>查询相关</h3><table>\n<thead>\n<tr>\n<th>操作符</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>$in</td>\n<td>属性值在某个属性数组范围内的时候命中 eg: 找出工作 1 年 3 年 5 年的员工: {jobTime: {$in: [1, 3, 5]}}, 当属性是数组的时候, 只要数组总包含一个 in 操作符中的 item 就会被命中</td>\n</tr>\n<tr>\n<td>$nin = $not: {$in: []}</td>\n<td>$in 的取反操作, 属性值不再某个范围内的时候命中</td>\n</tr>\n<tr>\n<td>$ne = not equal</td>\n<td>不相等的时候</td>\n</tr>\n<tr>\n<td>$lt</td>\n<td>属性值小于某个值的时候命中</td>\n</tr>\n<tr>\n<td>$gt</td>\n<td>属性值大于某个值的时候命中</td>\n</tr>\n<tr>\n<td>$lte</td>\n<td>属性值小于等于某个值的时候命中</td>\n</tr>\n<tr>\n<td>$gte</td>\n<td>属性值大于等于某个值的时候命中</td>\n</tr>\n<tr>\n<td>$all</td>\n<td>数组属性中包含所有的选择条件中的值才能命中 eg: {$all: [1, 3]} 能命中 time: [1, 2, 3], 但是不能命中 time: [1, 2, 4]</td>\n</tr>\n</tbody></table>\n<h2 id=\"文档读百遍-其义自见\"><a href=\"#文档读百遍-其义自见\" class=\"headerlink\" title=\"文档读百遍, 其义自见\"></a>文档读百遍, 其义自见</h2><p><a href=\"https://mongoosejs.com/\" target=\"_blank\" rel=\"noopener\">mongoose</a></p>\n","categories":["后端"],"tags":["数据库","MongoDB"]},{"title":"查询指定端口号对应的任务","url":"/Tips/tips/%E6%9F%A5%E8%AF%A2%E6%8C%87%E5%AE%9A%E7%AB%AF%E5%8F%A3%E5%8F%B7%E5%AF%B9%E5%BA%94%E7%9A%84%E4%BB%BB%E5%8A%A1/","content":"<h2 id=\"执行命令\"><a href=\"#执行命令\" class=\"headerlink\" title=\"执行命令\"></a>执行命令</h2><figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 只能获取当前用户启动的命令</span></span><br><span class=\"line\">lsof -i:27017</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"管理员权限启动任务需要使用命令\"><a href=\"#管理员权限启动任务需要使用命令\" class=\"headerlink\" title=\"管理员权限启动任务需要使用命令\"></a>管理员权限启动任务需要使用命令</h2><figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">sudo lsof -i:27017</span><br></pre></td></tr></table></figure>\n","categories":["Tips"],"tags":["Mac"]},{"title":"mongo 的安装和启动和连接","url":"/%E5%90%8E%E7%AB%AF/mongo/%E5%AE%89%E8%A3%85%E5%90%AF%E5%8A%A8%E5%92%8C%E9%93%BE%E6%8E%A5/","content":"<h2 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h2><figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">brew install mongodb</span><br></pre></td></tr></table></figure>\n\n<p>安装完成后 MongoDB 的默认配置文件 <code>/usr/local/etc/mongod.conf</code></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 系统日志</span></span><br><span class=\"line\"><span class=\"attr\">systemLog:</span></span><br><span class=\"line\">  <span class=\"attr\">destination:</span> <span class=\"string\">file</span></span><br><span class=\"line\">  <span class=\"attr\">path:</span> <span class=\"string\">/usr/local/var/log/mongodb/mongo.log</span></span><br><span class=\"line\">  <span class=\"attr\">logAppend:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"comment\"># 数据库本地文件</span></span><br><span class=\"line\"><span class=\"attr\">storage:</span></span><br><span class=\"line\">  <span class=\"attr\">dbPath:</span> <span class=\"string\">/usr/local/var/mongodb</span></span><br><span class=\"line\"><span class=\"comment\"># 网络相关</span></span><br><span class=\"line\"><span class=\"attr\">net:</span></span><br><span class=\"line\">  <span class=\"attr\">bindIp:</span> <span class=\"number\">127.0</span><span class=\"number\">.0</span><span class=\"number\">.1</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"启动\"><a href=\"#启动\" class=\"headerlink\" title=\"启动\"></a>启动</h2><ul>\n<li><p>普通启动</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">mongod</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>指定配置文件的启动</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 默认的 dbpath 为 /data/db 我的电脑上没有这个路径还没有权限创建...</span></span><br><span class=\"line\">mongod --dbpath=/Users/quanquanluo/data/db</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<p>启动后 mongo 会在 dbpath 目录下创建一坨文件, 文件列表如下</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">WiredTiger</span><br><span class=\"line\">WiredTiger.lock</span><br><span class=\"line\">WiredTiger.turtle</span><br><span class=\"line\">WiredTiger.wt</span><br><span class=\"line\">WiredTigerLAS.wt</span><br><span class=\"line\">_mdb_catalog.wt</span><br><span class=\"line\">collection-0--2763005286789933401.wt</span><br><span class=\"line\">collection-2--2763005286789933401.wt</span><br><span class=\"line\">collection-4--2763005286789933401.wt</span><br><span class=\"line\">diagnostic.data</span><br><span class=\"line\">files</span><br><span class=\"line\">index-1--2763005286789933401.wt</span><br><span class=\"line\">index-3--2763005286789933401.wt</span><br><span class=\"line\">index-5--2763005286789933401.wt</span><br><span class=\"line\">index-6--2763005286789933401.wt</span><br><span class=\"line\">journal</span><br><span class=\"line\">mongod.lock</span><br><span class=\"line\">sizeStorer.wt</span><br><span class=\"line\">storage.bson</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"连接\"><a href=\"#连接\" class=\"headerlink\" title=\"连接\"></a>连接</h2><ul>\n<li><p>命令行连接</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">mongo</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>可视化工具连接<br>Robo 3T <a href=\"https://robomongo.org/download\" target=\"_blank\" rel=\"noopener\">下载地址</a></p>\n</li>\n</ul>\n<p>ps: 这个东西, 装最新的就完了~</p>\n<h2 id=\"对比-MySQL\"><a href=\"#对比-MySQL\" class=\"headerlink\" title=\"对比 MySQL\"></a>对比 MySQL</h2><table>\n<thead>\n<tr>\n<th>mongo</th>\n<th>MySQL</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>文档(document) <font color=\"red\">单个文档最大 16M</font></td>\n<td>记录(row)</td>\n</tr>\n<tr>\n<td>集合(collection)</td>\n<td>表(table)</td>\n</tr>\n<tr>\n<td>数据库(database) 32 位系统上一个数据库存储文件不能超过 2G</td>\n<td>数据库(database)</td>\n</tr>\n</tbody></table>\n","categories":["后端"],"tags":["数据库","MongoDB"]}]